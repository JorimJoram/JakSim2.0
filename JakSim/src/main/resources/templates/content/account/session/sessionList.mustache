{{>layout/header}}
<script>
    var sessionId;
    window.onload = function(){
        sessionId = document.getElementById('sessionId').innerHTML;
    }
    function removeExpire(){
        axios.post('/session/expire', {sessionId:sessionId})
            .then(response => {
                window.location.reload();
            })
            .catch(error => {
                console.error(error);
            });
    }
</script>
</head>

<body>
<p>Sessions</p>

{{#sessionList}}
    <div>
        {{username}}
        {{#sessions}}
            <div>
                <span id="sessionId">{{sessionId}}</span>
                {{lastRequest}}
                {{expired}}
                <button onclick="removeExpire()">ExpireRemove</button>
            </div>
        {{/sessions}}
    </div>
{{/sessionList}}

</body>