DROP TABLE PAYMENT;

CREATE TABLE PAYMENT(
                        P_IDX INT(8) NOT NULL AUTO_INCREMENT PRIMARY KEY,
                        USER_ID VARCHAR(30) NOT NULL,
                        TP_IDX INT(8) NOT NULL,
                        TID INT(10) NOT NULL,
                        P_C_DT DATE NOT NULL DEFAULT CURRENT_DATE,
                        P_STATUS INT(1) NOT NULL DEFAULT 0,
                        P_M_DT DATE,
                        P_PT_CNT INT(3) NOT NULL,
                        P_PT_PERIOD INT(2) NOT NULL,
                        FOREIGN KEY (USER_ID) REFERENCES USER_INFO(USER_ID) ON DELETE CASCADE,
                        FOREIGN KEY (TP_IDX) REFERENCES PRODUCT(TP_IDX) ON DELETE CASCADE
);

COMMIT;

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_PT_PERIOD, P_REFUND)
VALUES ('test', 1, 3, 3, 0);

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
VALUES ('wkdgyfla97', 1, 1, '2023/06/17' , 4, 1);

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
VALUES ('test', 20, 1, '2023/06/17', 4, 1);

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
VALUES ('gse96', 19, 2, '2023/06/20', 6, 1);

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
VALUES ('senny', 20, 1, '2023/06/17', 4, 1);

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
VALUES ('test1', 38, 1, '2023/06/17', 4, 1);

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
VALUES ('gse1234', 38, 1, '2023/06/17', 4, 1);

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
VALUES ('humble', 38, 1, '2023/06/17', 4, 1);

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
VALUES ('hye8997', 19, 1, '2023/06/17', 4, 1);

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
VALUES ('test12', 19, 1, '2023/06/17', 4, 1);
VALUES ('gse96', 5, 1, '2023/06/20', 6, 1);

INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_PT_PERIOD, P_REFUND)
VALUES ('uzhjd', 2, 1, 6, 0);