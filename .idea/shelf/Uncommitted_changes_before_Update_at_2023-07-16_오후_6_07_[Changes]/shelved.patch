Index: JakSim/src/main/resources/templates/content/mypage/content/main_content.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><div class=\"mypage_container\" style=\"background-\">\r\r    <div class=\"mypage_table_div\">\r        <div class=\"mypage_table_tableHead\">\r            <a href=\"/mypage/{{user_info.id}}/profile\"><span>내 프로필</span></a>\r        </div>\r        <div class=\"mypage_table_row  jaksim_font\">\r            <input id=\"profile_name_input\" type=\"text\" value=\"{{user_info.name}}\" class=\"jaksim_font profile_input\" readonly>\r            <button class=\"jaksim_btn\" id=\"profile_name_change\">이름 수정</button>\r        </div>\r        <div class=\"mypage_table_row  jaksim_font\">\r            <input id=\"profile_tel_input\" type=\"text\" value=\"{{user_info.tel}}\" class=\"jaksim_font profile_input\" readonly>\r            <button class=\"jaksim_btn\" id=\"profile_tel_change\">번호 수정</button>\r        </div>\r        <div class=\"mypage_table_row  jaksim_font\">\r            <span>{{user_info.email}}</span>\r            <button class=\"jaksim_btn\" onclick=\"window.location.href='/mypage/{{user_info.id}}/profile'\">인증 및 수정</button>\r        </div>\r        <div class=\"mypage_table_row jaksim_font\">\r            <span>{{user_info.c_dt}}</span>\r            <button class=\"jaksim_btn\">생성일자</button>\r        </div>\r        <div class=\"mypage_table_row jaksim_font\">\r            <span>회원탈퇴</span>\r            <button class=\"btn btn-danger\" type=\"button\" id=\"mypage_delete\">탈퇴</button>\r        </div>\r    </div>\r\r    <div class=\"mypage_table_div\">\r        <div class=\"mypage_table_tableHead\">\r            <a href=\"#\"><span>내가 작성한 리뷰</span></a>\r        </div>\r        <div class=\"mypage_table_row\">\r            <table>\r                <thead style=\"text-align:center\">\r                <th style=\"width:40px;\">번호</th>\r                <th style=\"width:470px;\">리뷰 내용</th>\r                <th style=\"width:60px;\">별점</th>\r                <th style=\"width: 180px;\">등록일자</th>\r                </thead>\r            </table>\r        </div>\r            {{#reviewList}}\r            <div class=\"mypage_table_row\">\r                <table class=\"mypage_table_innerRow\">\r                    <tbody style=\"text-align:center;\">\r                    <tr class=\"jaksim_font\">\r                        <td style=\"width:40px;\"><span>{{reviewId}}</span></td>\r                        <td style=\"width:470px;\" class=\"mypage_review_content\"><span>{{reviewContent}}</span></td>\r                        <td style=\"width:60px;\"><span>{{star}} / 5</span></td>\r                        <td style=\"width: 180px;\"><span>{{reviewCreateDate}}</span></td>\r                    </tr>\r                    </tbody>\r                </table>\r                <button class=\"jaksim_btn\">리뷰 확인</button>\r            </div>\r            {{/reviewList}}\r            {{^reviewList}}\r            <div class=\"mypage_table_row\">\r                <span>트레이너를 등록하시고 리뷰를 작성해주세요!</span>\r                <button class=\"jaksim_btn\">리뷰 작성</button>\r            </div>\r            {{/reviewList}}\r\r    </div>\r\r    <div class=\"mypage_table_div\">\r        <div class=\"mypage_table_tableHead\">\r            <a href=\"/pay/list\"><span>결제 목록</span></a>\r        </div>\r        <div class=\"mypage_table_row\">\r            <table>\r                <thead style=\"text-align: center;\">\r                <th style=\"width:40px;\">번호</th>\r                <th style=\"width:50px;\">분류</th>\r                <th style=\"width:270px;\">결제 내용</th>\r                <th style=\"width:110px;\">가격</th>\r                <th style=\"width:50px;\">횟수</th>\r                <th style=\"width: 230px;\">유효 기간</th>\r                </thead>\r            </table>\r        </div>\r            {{#payment}}\r                <div class=\"mypage_table_row\">\r                    <table class=\"mypage_table_innerRow\">\r                        <tbody style=\"text-align:center;\">\r                        <tr class=\"jaksim_font\">\r                            <td style=\"width:40px;\"><span>{{idx}}</span></td>\r                            <td style=\"width:50px;\"><span class=\"mypage_pay_type\">{{type}}</span></td>\r                            <td style=\"width:270px;\" class=\"mypage_pay_content\"><span>{{title}}</span></td>\r                            <td style=\"width: 110px; text-align:right;\"><span class=\"mypage_pay_price\">{{price}}</span><span>원</span></td>\r                            <td style=\"width:50px;\"><span>{{pt_cnt}} / {{total_cnt}}</span></td>\r                            <td style=\"width: 230px;\"><span>{{p_c_dt}} ~ {{p_f_dt}}</span></td>\r                        </tr>\r                        </tbody>\r                    </table>\r                    <button class=\"jaksim_btn\" onclick=\"window.location.href='#'\">결제 확인</button>\r                </div>\r            {{/payment}}\r            {{^payment}}\r            <div class=\"mypage_table_row\">\r                <span>트레이너를 검색하고 PT를 등록해보세요!</span>\r                <button class=\"jaksim_btn\" onclick=\"window.location.href='/';\">트레이너 검색</button>\r            </div>\r            {{/payment}}\r    </div>\r\r    <div class=\"mypage_table_div\">\r        <div class=\"mypage_table_tableHead\">\r            <a href=\"/mypage/{{user_info.id}}/history/inbody\"><span>인바디</span></a>\r        </div>\r        <div class=\"mypage_table_row jaksim_font\" id=\"textContainer\">\r            <span>인바디를 기록하고 그래프로 확인해보세요!</span>\r            <button class=\"jaksim_btn\" onclick=\"window.location.href='/mypage/{{user_info.id}}/history/inbody'\">인바디 기록하기</button>\r        </div>\r    </div>\r\r</div>\r\r\r
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/resources/templates/content/mypage/content/main_content.mustache b/JakSim/src/main/resources/templates/content/mypage/content/main_content.mustache
--- a/JakSim/src/main/resources/templates/content/mypage/content/main_content.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/resources/templates/content/mypage/content/main_content.mustache	(date 1689497969169)
@@ -40,7 +40,7 @@
                 </thead>
             </table>
         </div>
-            {{#reviewList}}
+        {{#reviewList}}
             <div class="mypage_table_row">
                 <table class="mypage_table_innerRow">
                     <tbody style="text-align:center;">
@@ -49,24 +49,24 @@
                         <td style="width:470px;" class="mypage_review_content"><span>{{reviewContent}}</span></td>
                         <td style="width:60px;"><span>{{star}} / 5</span></td>
                         <td style="width: 180px;"><span>{{reviewCreateDate}}</span></td>
+                        <td style="text-align:right;"><button class="jaksim_btn mypage_viewReview">리뷰 수정</button></td>
                     </tr>
                     </tbody>
                 </table>
-                <button class="jaksim_btn">리뷰 확인</button>
             </div>
-            {{/reviewList}}
-            {{^reviewList}}
+        {{/reviewList}}
+        {{^reviewList}}
             <div class="mypage_table_row">
                 <span>트레이너를 등록하시고 리뷰를 작성해주세요!</span>
                 <button class="jaksim_btn">리뷰 작성</button>
             </div>
-            {{/reviewList}}
+        {{/reviewList}}
 
     </div>
 
     <div class="mypage_table_div">
         <div class="mypage_table_tableHead">
-            <a href="/pay/list"><span>결제 목록</span></a>
+            <a href="/payment/list"><span>결제 목록</span></a>
         </div>
         <div class="mypage_table_row">
             <table>
@@ -80,29 +80,29 @@
                 </thead>
             </table>
         </div>
-            {{#payment}}
-                <div class="mypage_table_row">
-                    <table class="mypage_table_innerRow">
-                        <tbody style="text-align:center;">
-                        <tr class="jaksim_font">
-                            <td style="width:40px;"><span>{{idx}}</span></td>
-                            <td style="width:50px;"><span class="mypage_pay_type">{{type}}</span></td>
-                            <td style="width:270px;" class="mypage_pay_content"><span>{{title}}</span></td>
-                            <td style="width: 110px; text-align:right;"><span class="mypage_pay_price">{{price}}</span><span>원</span></td>
-                            <td style="width:50px;"><span>{{pt_cnt}} / {{total_cnt}}</span></td>
-                            <td style="width: 230px;"><span>{{p_c_dt}} ~ {{p_f_dt}}</span></td>
-                        </tr>
-                        </tbody>
-                    </table>
-                    <button class="jaksim_btn" onclick="window.location.href='#'">결제 확인</button>
-                </div>
-            {{/payment}}
-            {{^payment}}
+        {{#payment}}
+            <div class="mypage_table_row">
+                <table class="mypage_table_innerRow">
+                    <tbody style="text-align:center;">
+                    <tr class="jaksim_font">
+                        <td style="width:40px;"><span>{{idx}}</span></td>
+                        <td style="width:50px;"><span class="mypage_pay_type">{{type}}</span></td>
+                        <td style="width:270px;" class="mypage_pay_content"><span>{{title}}</span></td>
+                        <td style="width: 110px; text-align:right;"><span class="mypage_pay_price">{{price}}</span><span>원</span></td>
+                        <td style="width:50px;"><span>{{pt_cnt}} / {{total_cnt}}</span></td>
+                        <td style="width: 230px;"><span>{{p_c_dt}} ~ {{p_f_dt}}</span></td>
+                        <td style="text-align:right;"><button class="jaksim_btn mypage_viewPayDetail" onclick="window.location.href='#'">결제 확인</button></td>
+                    </tr>
+                    </tbody>
+                </table>
+            </div>
+        {{/payment}}
+        {{^payment}}
             <div class="mypage_table_row">
                 <span>트레이너를 검색하고 PT를 등록해보세요!</span>
                 <button class="jaksim_btn" onclick="window.location.href='/';">트레이너 검색</button>
             </div>
-            {{/payment}}
+        {{/payment}}
     </div>
 
     <div class="mypage_table_div">
@@ -117,4 +117,4 @@
 
 </div>
 
-
\ No newline at end of file
+
Index: JakSim/src/main/java/com/twinkle/JakSim/model/service/review/ReviewService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.twinkle.JakSim.model.service.review;\r\n\r\nimport com.twinkle.JakSim.model.dao.review.ReviewDao;\r\nimport com.twinkle.JakSim.model.dao.trainer.TrainerDao;\r\nimport com.twinkle.JakSim.model.dto.review.ReviewRequestDto;\r\nimport com.twinkle.JakSim.model.dto.trainer.TrainerInsertDto;\r\nimport com.twinkle.JakSim.model.dto.trainer.TrainerSearchDto;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ReviewService {\r\n    @Autowired\r\n    private ReviewDao reviewDao;\r\n\r\n    @Transactional\r\n    public void insertReview(ReviewRequestDto review, String userId, int trainerIdx) {\r\n        reviewDao.insertReview(review, userId, trainerIdx);\r\n    }\r\n\r\n    @Transactional\r\n    public List<ReviewRequestDto> showReview(String trainerId) {\r\n        return reviewDao.getTrainerReview(trainerId);\r\n    }\r\n\r\n    @Transactional\r\n    public List<ReviewRequestDto> showMyReview(String userId) {\r\n        return reviewDao.getMyReview(userId);\r\n    }\r\n\r\n    @Transactional\r\n    public Optional<List<ReviewRequestDto>> showMyReviewForMyPage(String userId) {\r\n        return reviewDao.getMyReviewForMypage(userId);\r\n    }\r\n\r\n    @Transactional\r\n    public void editReview(ReviewRequestDto review, String userId) {\r\n        reviewDao.editReview(review, userId);\r\n    }\r\n\r\n    @Transactional\r\n    public void deleteReview(String userId) {\r\n        reviewDao.deleteReview(userId);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/java/com/twinkle/JakSim/model/service/review/ReviewService.java b/JakSim/src/main/java/com/twinkle/JakSim/model/service/review/ReviewService.java
--- a/JakSim/src/main/java/com/twinkle/JakSim/model/service/review/ReviewService.java	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/java/com/twinkle/JakSim/model/service/review/ReviewService.java	(date 1689488182654)
@@ -30,8 +30,8 @@
     }
 
     @Transactional
-    public List<ReviewRequestDto> showMyReview(String userId) {
-        return reviewDao.getMyReview(userId);
+    public List<ReviewRequestDto> showMyReview(String userId, int reviewIdx) {
+        return reviewDao.getMyReview(userId, reviewIdx);
     }
 
     @Transactional
Index: JakSim/SQL/create/payment.sql
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>DROP TABLE PAYMENT;\r\n\r\nCREATE TABLE PAYMENT(\r\n                        P_IDX INT(8) NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n                        USER_ID VARCHAR(30) NOT NULL,\r\n                        TP_IDX INT(8) NOT NULL,\r\n                        P_C_DT DATE NOT NULL DEFAULT CURRENT_DATE,\r\n                        P_REFUND INT(1) NOT NULL DEFAULT 0,\r\n                        P_M_DT DATE,\r\n                        P_PT_CNT INT(3) NOT NULL,\r\n                        P_PT_PERIOD INT(2) NOT NULL,\r\n                        FOREIGN KEY (USER_ID) REFERENCES USER_INFO(USER_ID) ON DELETE CASCADE,\r\n                        FOREIGN KEY (TP_IDX) REFERENCES PRODUCT(TP_IDX) ON DELETE CASCADE\r\n);\r\n\r\nCOMMIT;\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('test', 1, 3, 3, 0);\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('wkdgyfla97', 1, 1, '2023/06/17' , 4, 1);\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('test', 20, 1, '2023/06/17', 4, 1);\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('gse96', 19, 2, '2023/06/20', 6, 1);\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('senny', 20, 1, '2023/06/17', 4, 1);\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('test1', 38, 1, '2023/06/17', 4, 1);\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('gse1234', 38, 1, '2023/06/17', 4, 1);\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('humble', 38, 1, '2023/06/17', 4, 1);\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('hye8997', 19, 1, '2023/06/17', 4, 1);\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('test12', 19, 1, '2023/06/17', 4, 1);\r\nVALUES ('gse96', 5, 1, '2023/06/20', 6, 1);\r\n\r\nINSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_PT_PERIOD, P_REFUND)\r\nVALUES ('uzhjd', 2, 1, 6, 0);
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/SQL/create/payment.sql b/JakSim/SQL/create/payment.sql
--- a/JakSim/SQL/create/payment.sql	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/SQL/create/payment.sql	(date 1689497826263)
@@ -28,7 +28,7 @@
 VALUES ('gse96', 19, 2, '2023/06/20', 6, 1);
 
 INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
-VALUES ('senny', 20, 1, '2023/06/17', 4, 1);
+VALUES ('senny', 1, 1, '2023/06/17', 4, 1);
 
 INSERT INTO PAYMENT (USER_ID, TP_IDX, P_PT_CNT, P_M_DT, P_PT_PERIOD, P_REFUND)
 VALUES ('test1', 38, 1, '2023/06/17', 4, 1);
Index: JakSim/src/main/java/com/twinkle/JakSim/controller/review/ReviewController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.twinkle.JakSim.controller.review;\r\n\r\nimport com.twinkle.JakSim.model.dto.review.ReviewRequestDto;\r\nimport com.twinkle.JakSim.model.service.review.ReviewService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@Controller\r\npublic class ReviewController {\r\n    @Autowired\r\n    ReviewService reviewService;\r\n\r\n\r\n\r\n    @GetMapping(\"/registerReview/{trainerIdx}\")\r\n    public String registerMyReview(Model model, @PathVariable(\"trainerIdx\") int trainerIdx) {\r\n        model.addAttribute(\"head_title\", \"리뷰 등록\");\r\n        model.addAttribute(\"trainerIdx\", trainerIdx);\r\n\r\n        return \"content/review/registerReview\";\r\n    }\r\n    @PostMapping(\"/registerReview/{trainerIdx}\")\r\n    public String registerReview(@PathVariable(\"trainerIdx\") int trainerIdx, @AuthenticationPrincipal User info,\r\n                                 ReviewRequestDto reviewRequestDto) {\r\n        reviewService.insertReview(reviewRequestDto, info.getUsername(), trainerIdx);\r\n\r\n        return \"redirect:/\";\r\n    }\r\n\r\n    @GetMapping(\"/editReview/{reviewIdx}\")\r\n    public String editReview(@PathVariable(\"reviewIdx\") int reviewIdx, Model model, @AuthenticationPrincipal User info,\r\n                             ReviewRequestDto reviewRequestDto) {\r\n        model.addAttribute(\"head_title\", \"리뷰 수정\");\r\n        model.addAttribute(\"userId\", info);\r\n        model.addAttribute(\"review\", reviewService.showMyReview(info.getUsername()));\r\n\r\n        return \"content/review/editReview\";\r\n    }\r\n\r\n    @PostMapping(\"/editMyReview\")\r\n    public String editMyReview(Model model, @AuthenticationPrincipal User info,\r\n                               ReviewRequestDto reviewRequestDto) {\r\n        model.addAttribute(\"userId\", info);\r\n        model.addAttribute(\"review\", reviewService.showMyReview(info.getUsername()));\r\n        reviewService.editReview(reviewRequestDto, info.getUsername());\r\n\r\n        return \"redirect:/trainer/trainerSearch\";\r\n    }\r\n\r\n    @PostMapping(\"/deleteReview\")\r\n    public String deleteMyReview(@RequestParam(\"trainerId\") int trainerId, @AuthenticationPrincipal User info) {\r\n        reviewService.deleteReview(info.getUsername());\r\n        System.out.println(trainerId);\r\n\r\n        return \"redirect:/trainer/trainerSearch\";\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/java/com/twinkle/JakSim/controller/review/ReviewController.java b/JakSim/src/main/java/com/twinkle/JakSim/controller/review/ReviewController.java
--- a/JakSim/src/main/java/com/twinkle/JakSim/controller/review/ReviewController.java	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/java/com/twinkle/JakSim/controller/review/ReviewController.java	(date 1689497703411)
@@ -1,6 +1,7 @@
 package com.twinkle.JakSim.controller.review;
 
 import com.twinkle.JakSim.model.dto.review.ReviewRequestDto;
+import com.twinkle.JakSim.model.service.account.FileService;
 import com.twinkle.JakSim.model.service.review.ReviewService;
 import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.security.core.annotation.AuthenticationPrincipal;
@@ -13,13 +14,18 @@
 public class ReviewController {
     @Autowired
     ReviewService reviewService;
+    @Autowired
+    FileService fileService;
 
 
-
-    @GetMapping("/registerReview/{trainerIdx}")
-    public String registerMyReview(Model model, @PathVariable("trainerIdx") int trainerIdx) {
+    @GetMapping("/registerReview/{trainerId}")
+    public String registerMyReview(Model model, @PathVariable("trainerId") String trainerId, @AuthenticationPrincipal User info) {
+        if(info != null) {
+            model.addAttribute("profile_image", fileService.getSingeProfile(info.getUsername()));
+            model.addAttribute("isTrainer", info.getAuthorities().toString().equals("[ROLE_TRAINER]"));
+        }
         model.addAttribute("head_title", "리뷰 등록");
-        model.addAttribute("trainerIdx", trainerIdx);
+        model.addAttribute("trainerId", trainerId);
 
         return "content/review/registerReview";
     }
@@ -31,12 +37,12 @@
         return "redirect:/";
     }
 
-    @GetMapping("/editReview/{reviewIdx}")
+    @GetMapping("/review/editReview/{reviewIdx}")
     public String editReview(@PathVariable("reviewIdx") int reviewIdx, Model model, @AuthenticationPrincipal User info,
                              ReviewRequestDto reviewRequestDto) {
         model.addAttribute("head_title", "리뷰 수정");
         model.addAttribute("userId", info);
-        model.addAttribute("review", reviewService.showMyReview(info.getUsername()));
+        model.addAttribute("review", reviewService.showMyReview(info.getUsername(), reviewIdx));
 
         return "content/review/editReview";
     }
@@ -45,7 +51,7 @@
     public String editMyReview(Model model, @AuthenticationPrincipal User info,
                                ReviewRequestDto reviewRequestDto) {
         model.addAttribute("userId", info);
-        model.addAttribute("review", reviewService.showMyReview(info.getUsername()));
+        model.addAttribute("review", reviewService.showMyReview(info.getUsername(), reviewRequestDto.getReviewId()));
         reviewService.editReview(reviewRequestDto, info.getUsername());
 
         return "redirect:/trainer/trainerSearch";
Index: JakSim/src/main/resources/templates/content/review/registerReview.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{{>layout/header}}\r\n<link rel=\"stylesheet\" href=\"/css/trainer/editReview.css\">\r\n<body>\r\n{{>layout/navi}}\r\n<div>\r\n    <h3 class=\"jaksim_title_font\" style=\"position: relative;\r\n        margin-top: 30px;\r\n        margin-bottom: 30px;\r\n        margin-left: 50px;\">리뷰 등록</h3>\r\n</div>\r\n<form id=\"review-form\" action=\"/registerReview/{{trainerIdx}}\" method=\"POST\">\r\n        <div class=\"review-star\">\r\n            <label for=\"review-star\">별점</label>\r\n            <select class=\"star_select\" id=\"star\" name=\"star\" style=\"margin-left: 10px;\">\r\n                <option value=\"1\">1</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"3\">3</option>\r\n                <option value=\"4\">4</option>\r\n                <option value=\"5\">5</option>\r\n            </select>\r\n        </div>\r\n        <div class=\"review-content\" style=\"\r\n        margin-bottom: 15px; margin-top: 15px;\">\r\n            <label for=\"review-content\">내용</label><br/>\r\n            <input type=\"text\" id=\"reviewContent\" name=\"reviewContent\" style=\"\r\n        width: 701px;height: 306px;border: 1px solid gray;border-radius: 10px;margin-top: 10px;padding-left: 10px;\r\n        \"/>\r\n            <br/>\r\n        </div>\r\n    <input type=\"submit\" id=\"review-edit-button\" value=\"저장\">\r\n    <button type=\"button\" id=\"review-cancel-button\" onclick=\"goBack()\">취소</button>\r\n    <script>\r\n        function goBack() {\r\n            // Go back to the previous page in the browser's history\r\n            window.history.back();\r\n        }\r\n    </script>\r\n</form>\r\n\r\n{{>layout/footer}}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/resources/templates/content/review/registerReview.mustache b/JakSim/src/main/resources/templates/content/review/registerReview.mustache
--- a/JakSim/src/main/resources/templates/content/review/registerReview.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/resources/templates/content/review/registerReview.mustache	(date 1689497698291)
@@ -8,7 +8,7 @@
         margin-bottom: 30px;
         margin-left: 50px;">리뷰 등록</h3>
 </div>
-<form id="review-form" action="/registerReview/{{trainerIdx}}" method="POST">
+<form id="review-form" action="/registerReview/{{trainerId}}" method="POST">
         <div class="review-star">
             <label for="review-star">별점</label>
             <select class="star_select" id="star" name="star" style="margin-left: 10px;">
Index: JakSim/src/main/resources/static/javascript/payment/pay_detail.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>var rePayButton, reviewButton, refundButton;\r\nwindow.onload = function(){\r\n    refundStatus();\r\n\r\n    rePayButton = document.getElementById('pay_detail_repaybutton');\r\n    rePayButton.addEventListener('click', rePay);\r\n\r\n    reviewButton = document.getElementById('pay_detail_reviewbutton');\r\n    reviewButton.addEventListener('click', goReview);\r\n\r\n    refundButton = document.getElementById('pay_detail_refundbutton');\r\n    refundButton.addEventListener('click', doRefund);\r\n}\r\n\r\nfunction refundStatus(){\r\n    var status = document.getElementById('pay_detail_refundstatus');\r\n    switch(status.innerHTML){\r\n        case '0':\r\n            status.innerHTML = '구매완료';\r\n            break;\r\n        case '1':\r\n            status.innerHTML = '환불완료';\r\n            break;\r\n    }\r\n}\r\n\r\nfunction doRefund(){\r\n    sessionStorage.setItem('pIdx', document.getElementById('pay_detail_idx').innerHTML);\r\n}\r\n\r\nfunction goReview(){\r\n    sessionStorage.setItem('pIdx', document.getElementById('pay_detail_idx').innerHTML);\r\n}\r\n\r\nfunction rePay(){\r\n    sessionStorage.setItem('pIdx', document.getElementById('pay_detail_idx').innerHTML);\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/resources/static/javascript/payment/pay_detail.js b/JakSim/src/main/resources/static/javascript/payment/pay_detail.js
--- a/JakSim/src/main/resources/static/javascript/payment/pay_detail.js	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/resources/static/javascript/payment/pay_detail.js	(date 1689497545661)
@@ -1,4 +1,6 @@
 var rePayButton, reviewButton, refundButton;
+var pIdx;
+
 window.onload = function(){
     refundStatus();
 
@@ -10,6 +12,8 @@
 
     refundButton = document.getElementById('pay_detail_refundbutton');
     refundButton.addEventListener('click', doRefund);
+
+    pIdx = document.getElementById('pay_detail_idx').innerHTML;
 }
 
 function refundStatus(){
@@ -25,13 +29,14 @@
 }
 
 function doRefund(){
-    sessionStorage.setItem('pIdx', document.getElementById('pay_detail_idx').innerHTML);
+
 }
 
 function goReview(){
-    sessionStorage.setItem('pIdx', document.getElementById('pay_detail_idx').innerHTML);
+    var trainerId = document.getElementById('pay_detail_trainerId').innerHTML;
+    window.location.href=`/registerReview/${trainerId}`;
 }
 
 function rePay(){
-    sessionStorage.setItem('pIdx', document.getElementById('pay_detail_idx').innerHTML);
+
 }
\ No newline at end of file
Index: JakSim/src/main/resources/templates/content/payment/pay_detail.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{{>layout/header}}\r\n    <link rel=\"stylesheet\" href=\"/css/payment/pay_detailStyle.css\">\r\n    <script src=\"/javascript/payment/pay_detail.js\"></script>\r\n</head>\r\n\r\n<body>\r\n{{>layout/navi}}\r\n\r\n    <div id=\"pay_detail_container\">\r\n        <p id=\"pay_detail_head\">등록 상세</p>\r\n        <div>\r\n            <span id=\"pay_detail_status\">{{payment.c_dt}} 주문</span>\r\n            <span>주문 번호 </span><span id=\"pay_detail_idx\">{{payment.idx}}</span>\r\n        </div>\r\n\r\n        <div id=\"pay_detail_wrapper\">\r\n            <table style=\"width:100%;\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td style=\"width: 70%;\">\r\n                            <p id=\"pay_detail_refundstatus\">{{payment.refund}}</p>\r\n                            <div style=\"display:flex; align-items: center;\">\r\n                                <img src=\"/image/Training.jpg\" alt=\"train\" id=\"pay_detail_img\" style=\"float:left;\">\r\n                                <div id=\"pay_detail_table_span\">\r\n                                    <span style=\"font-size: 20px;\">{{product.ptTitle}}</span>\r\n                                    <span style=\"font-size: 17px;\">{{product.ptType}} / {{product.ptPeriod}}일</span>\r\n                                    <span style=\"font-size: 17px;\">{{product.ptPrice}}</span>\r\n                                    <span>{{payment.cnt}} / {{product.ptTimes}}</span>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                        <td id=\"pay_detail_tablebuttons\" style=\"width: 20%;\">\r\n                            <button class=\"jaksim_btn\" id=\"pay_detail_refundbutton\">환불 신청하기</button>\r\n                            <button class=\"jaksim_btn\" id=\"pay_detail_reviewbutton\">리뷰 작성하기</button>\r\n                            <button class=\"jaksim_btn\" id=\"pay_detail_repaybutton\">재주문 하기</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <p class=\"pay_detail_midTitle\">트레이너 정보</p>\r\n\r\n        <div id=\"pay_detail_trainerWrapper\">\r\n            <table>\r\n                <tr>\r\n                    <th rowspan=\"4\"><img id=\"pay_detail_trainerImg\" src=\"/image/trainerNam.jpg\" alt=\"\"></th>\r\n                    <th style=\"width: 100px;\">트레이너 명</th>\r\n                    <td><span>트레이너 이름 적어주세요</span></td>\r\n                </tr>\r\n                <tr>\r\n                    <th>소속 헬스장</th>\r\n                    <td><span>트레이너 헬스장 적어주세요</span></td>\r\n                </tr>\r\n                <tr>\r\n                    <th>전문 분야</th>\r\n                    <td>\r\n                        <span>트레이너 전문분야 적어주세요(반복문)</span>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th>자격증</th>\r\n                    <td><span>트레이너 자격증 적어주세요(반복문)</span></td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n\r\n{{>layout/footer}}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/resources/templates/content/payment/pay_detail.mustache b/JakSim/src/main/resources/templates/content/payment/pay_detail.mustache
--- a/JakSim/src/main/resources/templates/content/payment/pay_detail.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/resources/templates/content/payment/pay_detail.mustache	(date 1689497665338)
@@ -26,6 +26,7 @@
                                     <span style="font-size: 17px;">{{product.ptType}} / {{product.ptPeriod}}일</span>
                                     <span style="font-size: 17px;">{{product.ptPrice}}</span>
                                     <span>{{payment.cnt}} / {{product.ptTimes}}</span>
+                                    <span style="display:none" id="pay_detail_trainerId">{{product.userId}}</span>
                                 </div>
                             </div>
                         </td>
Index: JakSim/src/main/resources/static/javascript/mypage/mypage.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>var nameChangeButton, telChangeButton;\r\nvar nameInput, telInput;\r\n\r\nwindow.onload = function() {\r\n    var deleteButton = document.getElementById('mypage_delete');\r\n    nameChangeButton = document.getElementById('profile_name_change');\r\n    telChangeButton = document.getElementById('profile_tel_change');\r\n    nameInput = document.getElementById('profile_name_input');\r\n    telInput = document.getElementById('profile_tel_input');\r\n\r\n    reviewCheck();\r\n    paymentCheck();\r\n\r\n    deleteButton.addEventListener('click', deleteUser);\r\n\r\n    var isNameChange = true;\r\n    nameChangeButton.addEventListener('click', function(){\r\n        if(isNameChange){\r\n            nameChangeInput();\r\n            isNameChange = false;\r\n        }else{\r\n            nameChangeResult();\r\n            isNameChange = true;\r\n        }\r\n    });\r\n\r\n    var isTelChange = true;\r\n    telChangeButton.addEventListener('click', function(){\r\n        if(isTelChange){\r\n            telChangeInput();\r\n            isTelChange = false\r\n        }else{\r\n            checkTel();\r\n            isTelChange = true;\r\n        }\r\n    })\r\n}\r\n\r\nfunction paymentCheck(){\r\n    function priceFormat(){\r\n        var prices = document.getElementsByClassName('mypage_pay_price');\r\n        Array.from(prices).forEach((item) => {\r\n            item.innerHTML = item.innerHTML.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n        });\r\n    };\r\n\r\n    function typeToString(){\r\n        var types = document.getElementsByClassName('mypage_pay_type');\r\n        Array.from(types).forEach((item) => {\r\n            switch(item.innerHTML){\r\n                case '0':\r\n                    item.innerHTML = '[1:1]';\r\n                    break;\r\n                case '1':\r\n                    item.innerHTML = '[단체]';\r\n                    break;\r\n            }\r\n        })\r\n    };\r\n\r\n    function lengthOfTitle(){\r\n        var titles = document.getElementsByClassName('mypage_pay_content');\r\n        Array.from(titles).forEach((item, index) => {\r\n            if(item.innerHTML.length > 23){\r\n                item.innerHTML = item.innerHTML.substring(0, 23) + \"...\";\r\n            }\r\n        });\r\n    };\r\n\r\n    priceFormat();\r\n    typeToString();\r\n    lengthOfTitle();\r\n}\r\n\r\nfunction reviewCheck(){\r\n    var reviews = document.getElementsByClassName('mypage_review_content');\r\n    Array.from(reviews).forEach((item, index) => {\r\n        if(item.innerHTML.length > 40){\r\n            item.innerHTML = item.innerHTML.substring(0, 40) + \"...\";\r\n        }\r\n    });\r\n}\r\n\r\nfunction telChangeInput(){\r\n    telInput.readOnly = false;\r\n    telInput.focus();\r\n    telChangeButton.textContent = '확인';\r\n}\r\n\r\nfunction telChangeResult(){\r\n    telChangeButton.textContent = '수정';\r\n    telInput.readOnly = true;\r\n\r\n    axios.put('/mypage/api/profile/update/tel', {tel: telInput.value})\r\n        .then(response => {\r\n            alert('전화번호가 정상적으로 변경되었습니다.');\r\n            window.location.reload();\r\n        })\r\n        .catch(error => {\r\n            console.error(error);\r\n        });\r\n}\r\n\r\nfunction nameChangeResult(){\r\n    nameChangeButton.textContent = '수정';\r\n    nameInput.readOnly = true;\r\n\r\n    axios.put('/mypage/api/profile/update/name', {name: nameInput.value})\r\n        .then(response => {\r\n            console.log(response.data);\r\n            alert('이름이 정상적으로 변경되었습니다.');\r\n            window.location.reload();\r\n        })\r\n        .catch(error => {\r\n            console.error(error);\r\n        });\r\n}\r\n\r\nfunction checkTel(){\r\n    axios.post('/mypage/api/profile/check/tel', {tel: telInput.value})\r\n            .then(response => {\r\n                console.log(response.data);\r\n                if(response.data === true){\r\n                    telChangeResult();\r\n                }else{\r\n                    alert('이미 존재하는 전화번호입니다.');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error(error);\r\n            });\r\n}\r\n\r\nfunction nameChangeInput(){\r\n    nameInput.readOnly = false;\r\n    nameInput.focus();\r\n    nameChangeButton.textContent = '확인';\r\n}\r\n\r\nvar deleteUser = function(){\r\n    var data = {id : document.getElementById('navi_username').innerHTML};\r\n    console.log(data);\r\n\r\n    axios.delete('/mypage/api/delete')\r\n        .then(response => {\r\n            if(response.data === 1){\r\n                alert('회원정보가 삭제되었습니다.');\r\n                window.location.href='/logout';\r\n            }else{\r\n                alert('????? 와 안되누?');\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error(error);\r\n        });\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/resources/static/javascript/mypage/mypage.js b/JakSim/src/main/resources/static/javascript/mypage/mypage.js
--- a/JakSim/src/main/resources/static/javascript/mypage/mypage.js	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/resources/static/javascript/mypage/mypage.js	(date 1689497962297)
@@ -33,7 +33,23 @@
             checkTel();
             isTelChange = true;
         }
-    })
+    });
+
+    var viewReviewButtons = document.getElementsByClassName('mypage_viewReview');
+        Array.from(viewReviewButtons).forEach((button) => {
+            button.addEventListener('click', function(event){
+                var reviewId = event.target.closest('tr').querySelector('.jaksim_font td:first-child span').textContent;
+                window.location.href=`/editReview/${reviewId}`;
+            });
+        });
+
+        var viewPayButtons = document.getElementsByClassName('mypage_viewPayDetail');
+        Array.from(viewPayButtons).forEach((button) => {
+            button.addEventListener('click', function(event){
+                var payId = event.target.closest('tr').querySelector('td:first-child span').textContent;
+                window.location.href=`/payment/detail/${payId}`;
+            });
+        });
 }
 
 function paymentCheck(){
Index: JakSim/src/main/java/com/twinkle/JakSim/config/auth/SecurityConfig.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.twinkle.JakSim.config.auth;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.session.HttpSessionEventPublisher;\r\n\r\nimport javax.servlet.Filter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Autowired\r\n    private CustomAuthSuccessHandler customAuthSuccessHandler;\r\n    @Autowired\r\n    private CustomAuthFailureHandler customAuthFailureHandler;\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\r\n        return configuration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        http.csrf().disable();\r\n        http.authorizeHttpRequests().antMatchers( \"/\", \"/trainerUpdate/**\",\r\n                        \"/scheduler/**\", \"/trainerDelete\", \"/reservation/**\",\r\n                        \"/trainerRegister/**\", \"/trainer/trainerSearch\", \"/trainer/**\",\r\n                        \"/javascript/**\", \"/css/**\", \"/image/**\").permitAll()\r\n                .antMatchers(\"/login/**\", \"/find/**\", \"/account/**\").hasAnyRole(\"ANONYMOUS\")\r\n                .anyRequest().authenticated();\r\n        http\r\n                .formLogin()\r\n                .loginPage(\"/login\")\r\n                .loginProcessingUrl(\"/login/action\")\r\n                .successHandler(customAuthSuccessHandler)\r\n                .failureHandler(customAuthFailureHandler);\r\n        http.logout()\r\n                .deleteCookies(\"JSESSIONID\")\r\n                .invalidateHttpSession(true).logoutUrl(\"/logout\").permitAll()\r\n                .logoutSuccessUrl(\"/\");\r\n\r\n        return http.build();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/java/com/twinkle/JakSim/config/auth/SecurityConfig.java b/JakSim/src/main/java/com/twinkle/JakSim/config/auth/SecurityConfig.java
--- a/JakSim/src/main/java/com/twinkle/JakSim/config/auth/SecurityConfig.java	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/java/com/twinkle/JakSim/config/auth/SecurityConfig.java	(date 1689496744265)
@@ -35,11 +35,11 @@
     @Bean
     public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{
         http.csrf().disable();
-        http.authorizeHttpRequests().antMatchers( "/", "/trainerUpdate/**",
-                        "/scheduler/**", "/trainerDelete", "/reservation/**",
-                        "/trainerRegister/**", "/trainer/trainerSearch", "/trainer/**",
+        http.authorizeHttpRequests().antMatchers( "/",
+                         "/trainer/trainerSearch",
                         "/javascript/**", "/css/**", "/image/**").permitAll()
                 .antMatchers("/login/**", "/find/**", "/account/**").hasAnyRole("ANONYMOUS")
+                .antMatchers("/trainer/trainerRegister").hasAnyAuthority("ROLE_USER")
                 .anyRequest().authenticated();
         http
                 .formLogin()
Index: JakSim/src/main/java/com/twinkle/JakSim/model/dao/review/ReviewDao.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.twinkle.JakSim.model.dao.review;\r\n\r\nimport com.twinkle.JakSim.model.dto.review.ReviewRequestDto;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic class ReviewDao {\r\n    @Autowired\r\n    private JdbcTemplate jdbcTemplate;\r\n    private String sql;\r\n\r\n    public void insertReview(ReviewRequestDto review, String userId, int trainerIdx) {\r\n        this.sql = \"INSERT INTO REVIEW VALUES(NULL, ?, ?, ?, ?, current_date, NULL)\";\r\n\r\n        jdbcTemplate.update(this.sql, userId, trainerIdx,\r\n                            review.getReviewContent(), review.getStar());\r\n\r\n    }\r\n\r\n    public List<ReviewRequestDto> getTrainerReview(String trainerId) {\r\n        this.sql = \"SELECT * FROM REVIEW \" +\r\n                \"WHERE TRAINER_ID = ?\";\r\n\r\n        return jdbcTemplate.query(this.sql, new ReviewRowMapper(), trainerId);\r\n    }\r\n\r\n    public List<ReviewRequestDto> getMyReview(String userId) {\r\n        this.sql = \"SELECT * FROM REVIEW \" +\r\n                \"WHERE USER_ID = ?\";\r\n\r\n        return jdbcTemplate.query(this.sql, new ReviewRowMapper(), userId);\r\n    }\r\n\r\n\r\n    public Optional<List<ReviewRequestDto>> getMyReviewForMypage(String userId) {\r\n        this.sql = \"SELECT * FROM REVIEW R \" +\r\n                \"WHERE USER_ID = ? \" +\r\n                \"ORDER BY R_IDX DESC \" +\r\n                \"LIMIT 3\";\r\n        List<ReviewRequestDto> reviewList = null;\r\n        try {\r\n            reviewList = jdbcTemplate.query(this.sql, new ReviewRowMapper(), userId);\r\n        }catch (Exception e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return Optional.ofNullable(reviewList);\r\n    }\r\n\r\n    public void editReview(ReviewRequestDto review, String userId) {\r\n        this.sql = \"UPDATE REVIEW SET R_CONTENT = ?, R_STAR = ?, R_M_DT = current_date \" +\r\n                \"WHERE USER_ID = ?\";\r\n\r\n        jdbcTemplate.update(this.sql, review.getReviewContent(),\r\n                review.getStar(), userId);\r\n\r\n    }\r\n\r\n    public void deleteReview(String userId) {\r\n        this.sql = \"DELETE FROM REVIEW WHERE USER_ID = ?\";\r\n\r\n        jdbcTemplate.update(this.sql, userId);\r\n\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/java/com/twinkle/JakSim/model/dao/review/ReviewDao.java b/JakSim/src/main/java/com/twinkle/JakSim/model/dao/review/ReviewDao.java
--- a/JakSim/src/main/java/com/twinkle/JakSim/model/dao/review/ReviewDao.java	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/java/com/twinkle/JakSim/model/dao/review/ReviewDao.java	(date 1689488341996)
@@ -30,11 +30,11 @@
         return jdbcTemplate.query(this.sql, new ReviewRowMapper(), trainerId);
     }
 
-    public List<ReviewRequestDto> getMyReview(String userId) {
+    public List<ReviewRequestDto> getMyReview(String userId, int reviewIdx) {
         this.sql = "SELECT * FROM REVIEW " +
-                "WHERE USER_ID = ?";
+                "WHERE USER_ID = ? AND R_IDX = ?";
 
-        return jdbcTemplate.query(this.sql, new ReviewRowMapper(), userId);
+        return jdbcTemplate.query(this.sql, new ReviewRowMapper(), userId, reviewIdx);
     }
 
 
Index: JakSim/.gradle/buildOutputCleanup/buildOutputCleanup.lock
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\u0003���\u0000\u0000\u0000\u0000\u0000\u0000\u0000`
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/.gradle/buildOutputCleanup/buildOutputCleanup.lock b/JakSim/.gradle/buildOutputCleanup/buildOutputCleanup.lock
--- a/JakSim/.gradle/buildOutputCleanup/buildOutputCleanup.lock	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/.gradle/buildOutputCleanup/buildOutputCleanup.lock	(date 1689498167325)
@@ -1,1 +1,0 @@
-���       `
\ No newline at end of file
Index: JakSim/src/main/java/com/twinkle/JakSim/controller/MainController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.twinkle.JakSim.controller;\r\n\r\nimport com.twinkle.JakSim.model.service.account.FileService;\r\nimport com.twinkle.JakSim.model.service.trainer.TrainerService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\n@RequiredArgsConstructor\r\npublic class MainController {\r\n    @Autowired\r\n    TrainerService trainerService;\r\n\r\n    private final FileService fileService;\r\n    @GetMapping(\"/\")\r\n    public String mainPage(Model model, @AuthenticationPrincipal User info) {\r\n        if(info != null) {\r\n            model.addAttribute(\"profile_image\", fileService.getSingeProfile(info.getUsername()));\r\n            model.addAttribute(\"isTrainer\", info.getAuthorities().toString().equals(\"[ROLE_TRAINER]\"));\r\n        }\r\n        model.addAttribute(\"head_title\", \"작심득근\");\r\n        model.addAttribute(\"trainers\", trainerService.searchTrainerForMainPage());\r\n        return \"content/index\";\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/java/com/twinkle/JakSim/controller/MainController.java b/JakSim/src/main/java/com/twinkle/JakSim/controller/MainController.java
--- a/JakSim/src/main/java/com/twinkle/JakSim/controller/MainController.java	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/java/com/twinkle/JakSim/controller/MainController.java	(date 1689497235946)
@@ -19,6 +19,7 @@
     private final FileService fileService;
     @GetMapping("/")
     public String mainPage(Model model, @AuthenticationPrincipal User info) {
+
         if(info != null) {
             model.addAttribute("profile_image", fileService.getSingeProfile(info.getUsername()));
             model.addAttribute("isTrainer", info.getAuthorities().toString().equals("[ROLE_TRAINER]"));
Index: JakSim/build/resources/main/static/javascript/trainer/trainerBrief.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>function setTrainerBrief(trainerId) {\r\n    var trainerData;\r\n    var url = '/trainer/briefInfo/' + trainerId;\r\n    var expertSample = ['바디 프로필', '파워 리프팅', '다이어트', '재활 운동', '자세 교정', '컨디셔닝'];\r\n    var gender = ['남자', '여자'];\r\n\r\n    axios.get(url)\r\n        .then((response) => {\r\n            trainerData = response.data;\r\nconsole.log(\"trainerData\");\r\nconsole.log(trainerData);\r\n            document.getElementById(\"trainerName\").innerText = trainerData['userName'] + \" 트레이너\";\r\n            document.getElementById(\"trainerName\").href = \"/trainer/\" + trainerData['userId'];\r\n            document.getElementById(\"gender\").innerText = gender[trainerData['gender']];\r\n            document.getElementById(\"insta\").href = trainerData['insta'];\r\n            document.getElementById(\"gym\").innerText = trainerData['gym'];\r\n            document.getElementById(\"expert\").innerText = expertSample[trainerData['expert1']] + \", \" + expertSample[trainerData['expert2']];\r\n        })\r\n        .catch(error => {\r\n            console.error(error);\r\n        });\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/build/resources/main/static/javascript/trainer/trainerBrief.js b/JakSim/build/resources/main/static/javascript/trainer/trainerBrief.js
--- a/JakSim/build/resources/main/static/javascript/trainer/trainerBrief.js	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/build/resources/main/static/javascript/trainer/trainerBrief.js	(date 1689498141459)
@@ -7,8 +7,8 @@
     axios.get(url)
         .then((response) => {
             trainerData = response.data;
-console.log("trainerData");
-console.log(trainerData);
+
+            document.getElementById("trainer-info").src = trainerData['imagePath'];
             document.getElementById("trainerName").innerText = trainerData['userName'] + " 트레이너";
             document.getElementById("trainerName").href = "/trainer/" + trainerData['userId'];
             document.getElementById("gender").innerText = gender[trainerData['gender']];
Index: JakSim/.gradle/7.6.1/executionHistory/executionHistory.lock
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\u0003\u0016>��\u0000\u0000\u0000\u0000\u0000\u0000\u0000-
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/.gradle/7.6.1/executionHistory/executionHistory.lock b/JakSim/.gradle/7.6.1/executionHistory/executionHistory.lock
--- a/JakSim/.gradle/7.6.1/executionHistory/executionHistory.lock	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/.gradle/7.6.1/executionHistory/executionHistory.lock	(date 1689498167474)
@@ -1,1 +1,0 @@
->��       -
\ No newline at end of file
Index: JakSim/.gradle/7.6.1/fileHashes/fileHashes.lock
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\u0003\u0003U �W w�\u0000\u0000\u0006�
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/.gradle/7.6.1/fileHashes/fileHashes.lock b/JakSim/.gradle/7.6.1/fileHashes/fileHashes.lock
--- a/JakSim/.gradle/7.6.1/fileHashes/fileHashes.lock	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/.gradle/7.6.1/fileHashes/fileHashes.lock	(date 1689498167207)
@@ -1,1 +1,0 @@
-U �W w�  �
\ No newline at end of file
Index: JakSim/build/resources/main/templates/layout/navi.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><nav class=\"navbar navbar-expand-lg bg-body-tertiary\" >\r\n    <div class=\"container-fluid\">\r\n        <a class=\"navbar-brand\" href=\"/\" id=\"nav-head\">작심득근</a>\r\n\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n            <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                {{#isTrainer}}\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"/scheduler/details/ujeong\">스케줄러 확인</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"trainerRegister\">트레이너 찾기</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"trainerRegister\">PT 관리</a>\r\n                    </li>\r\n                {{/isTrainer}}\r\n                {{^isTrainer}}\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"/scheduler\">스케줄러</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"trainerRegister\">트레이너 찾기</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"trainerRegister\">트레이너 등록</a>\r\n                    </li>\r\n                {{/isTrainer}}\r\n            </ul>\r\n            {{#session_user}}\r\n                {{#session_profile}}\r\n                    <li class=\"nav-item d-flex\">\r\n                        <a href=\"/mypage/auth\"><img src=\"{{session_profile.path}}\" alt=\"profile\" id=\"navi_profile_img\"></a>\r\n                    </li>\r\n                {{/session_profile}}\r\n                {{^session_profile}}\r\n                    <li class=\"nav-item d-flex\">\r\n                        <a href=\"/mypage/auth\"><img src=\"/image/profiles/profile.jpg\" alt=\"profile\" id=\"navi_profile_img\"></a>\r\n                    </li>\r\n                {{/session_profile}}\r\n                <li class=\"nav-item d-flex\" id=\"navi_userInfo\">\r\n                    <a class=\"nav-link nav_font\" href=\"/mypage/auth\" id=\"navi_username\">{{session_user.username}}</a>\r\n                </li>\r\n                <li class=\"nav-item d-flex\">\r\n                    <span class=\"nav-link\" id=\"nav_time\">-- : --</span>\r\n                </li>\r\n                <li class=\"nav-item d-flex\" style=\"margin-left:7px\">\r\n                    <a class=\"nav-link jaksim_font\" href=\"/logout\">로그아웃</a>\r\n                </li>\r\n            {{/session_user}}\r\n            {{^session_user}}\r\n                <li class=\"nav-item d-flex\" style=\"margin-left:7px\">\r\n                    <a class=\"nav-link nav_font\" href=\"/login\">로그인</a>\r\n                </li>\r\n                <li class=\"nav-item d-flex\" style=\"margin-left:7px;\">\r\n                    <a class=\"nav-link nav_font\" href=\"/account/1\">회원가입</a>\r\n                </li>\r\n            {{/session_user}}\r\n        </div>\r\n    </div>\r\n</nav>\r\n<script>\r\n    showSessionValidTime();\r\n</script>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/build/resources/main/templates/layout/navi.mustache b/JakSim/build/resources/main/templates/layout/navi.mustache
--- a/JakSim/build/resources/main/templates/layout/navi.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/build/resources/main/templates/layout/navi.mustache	(date 1689498141677)
@@ -6,13 +6,13 @@
             <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                 {{#isTrainer}}
                     <li class="nav-item">
-                        <a class="nav-link nav_font" href="/scheduler/details/ujeong">스케줄러 확인</a>
+                        <a class="nav-link nav_font" href="/scheduler">스케줄러</a>
                     </li>
                     <li class="nav-item">
-                        <a class="nav-link nav_font" href="trainerRegister">트레이너 찾기</a>
+                        <a class="nav-link nav_font" href="/trainer/trainerSearch">트레이너 찾기</a>
                     </li>
                     <li class="nav-item">
-                        <a class="nav-link nav_font" href="trainerRegister">PT 관리</a>
+                        <a class="nav-link nav_font" href="/trainer/trainerUpdate/{{session_user.username}}">트레이너 페이지</a>
                     </li>
                 {{/isTrainer}}
                 {{^isTrainer}}
@@ -20,10 +20,10 @@
                         <a class="nav-link nav_font" href="/scheduler">스케줄러</a>
                     </li>
                     <li class="nav-item">
-                        <a class="nav-link nav_font" href="trainerRegister">트레이너 찾기</a>
+                        <a class="nav-link nav_font" href="/trainer/trainerSearch">트레이너 찾기</a>
                     </li>
                     <li class="nav-item">
-                        <a class="nav-link nav_font" href="trainerRegister">트레이너 등록</a>
+                        <a class="nav-link nav_font" href="/trainer/trainerRegister">트레이너 등록</a>
                     </li>
                 {{/isTrainer}}
             </ul>
Index: JakSim/src/main/resources/templates/layout/navi.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><nav class=\"navbar navbar-expand-lg bg-body-tertiary\" >\r\n    <div class=\"container-fluid\">\r\n        <a class=\"navbar-brand\" href=\"/\" id=\"nav-head\">작심득근</a>\r\n\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n            <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                {{#isTrainer}}\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"/scheduler/details/ujeong\">스케줄러 확인</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"trainerRegister\">트레이너 찾기</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"trainerRegister\">PT 관리</a>\r\n                    </li>\r\n                {{/isTrainer}}\r\n                {{^isTrainer}}\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"/scheduler\">스케줄러</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"trainerRegister\">트레이너 찾기</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link nav_font\" href=\"trainerRegister\">트레이너 등록</a>\r\n                    </li>\r\n                {{/isTrainer}}\r\n            </ul>\r\n            {{#session_user}}\r\n                {{#session_profile}}\r\n                    <li class=\"nav-item d-flex\">\r\n                        <a href=\"/mypage/auth\"><img src=\"{{session_profile.path}}\" alt=\"profile\" id=\"navi_profile_img\"></a>\r\n                    </li>\r\n                {{/session_profile}}\r\n                {{^session_profile}}\r\n                    <li class=\"nav-item d-flex\">\r\n                        <a href=\"/mypage/auth\"><img src=\"/image/profiles/profile.jpg\" alt=\"profile\" id=\"navi_profile_img\"></a>\r\n                    </li>\r\n                {{/session_profile}}\r\n                <li class=\"nav-item d-flex\" id=\"navi_userInfo\">\r\n                    <a class=\"nav-link nav_font\" href=\"/mypage/auth\" id=\"navi_username\">{{session_user.username}}</a>\r\n                </li>\r\n                <li class=\"nav-item d-flex\">\r\n                    <span class=\"nav-link\" id=\"nav_time\">-- : --</span>\r\n                </li>\r\n                <li class=\"nav-item d-flex\" style=\"margin-left:7px\">\r\n                    <a class=\"nav-link jaksim_font\" href=\"/logout\">로그아웃</a>\r\n                </li>\r\n            {{/session_user}}\r\n            {{^session_user}}\r\n                <li class=\"nav-item d-flex\" style=\"margin-left:7px\">\r\n                    <a class=\"nav-link nav_font\" href=\"/login\">로그인</a>\r\n                </li>\r\n                <li class=\"nav-item d-flex\" style=\"margin-left:7px;\">\r\n                    <a class=\"nav-link nav_font\" href=\"/account/1\">회원가입</a>\r\n                </li>\r\n            {{/session_user}}\r\n        </div>\r\n    </div>\r\n</nav>\r\n<script>\r\n    showSessionValidTime();\r\n</script>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/resources/templates/layout/navi.mustache b/JakSim/src/main/resources/templates/layout/navi.mustache
--- a/JakSim/src/main/resources/templates/layout/navi.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/resources/templates/layout/navi.mustache	(date 1689496536703)
@@ -6,13 +6,13 @@
             <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                 {{#isTrainer}}
                     <li class="nav-item">
-                        <a class="nav-link nav_font" href="/scheduler/details/ujeong">스케줄러 확인</a>
+                        <a class="nav-link nav_font" href="/scheduler">스케줄러</a>
                     </li>
                     <li class="nav-item">
-                        <a class="nav-link nav_font" href="trainerRegister">트레이너 찾기</a>
+                        <a class="nav-link nav_font" href="/trainer/trainerSearch">트레이너 찾기</a>
                     </li>
                     <li class="nav-item">
-                        <a class="nav-link nav_font" href="trainerRegister">PT 관리</a>
+                        <a class="nav-link nav_font" href="/trainer/trainerUpdate/{{session_user.username}}">트레이너 페이지</a>
                     </li>
                 {{/isTrainer}}
                 {{^isTrainer}}
@@ -20,10 +20,10 @@
                         <a class="nav-link nav_font" href="/scheduler">스케줄러</a>
                     </li>
                     <li class="nav-item">
-                        <a class="nav-link nav_font" href="trainerRegister">트레이너 찾기</a>
+                        <a class="nav-link nav_font" href="/trainer/trainerSearch">트레이너 찾기</a>
                     </li>
                     <li class="nav-item">
-                        <a class="nav-link nav_font" href="trainerRegister">트레이너 등록</a>
+                        <a class="nav-link nav_font" href="/trainer/trainerRegister">트레이너 등록</a>
                     </li>
                 {{/isTrainer}}
             </ul>
Index: JakSim/build/resources/main/templates/content/trainer/trainerDetailPage.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{{>layout/header}}\r\n<link rel=\"stylesheet\" href=\"/css/trainer/trainerPage.css\">\r\n<script src=\"https://kit.fontawesome.com/05995ac069.js\" crossorigin=\"anonymous\"></script>\r\n<script src=\"/javascript/payment/kakaoPay.js\"></script>\r\n\r\n<body>\r\n{{>layout/navi}}\r\n<div id=\"trainer_Detail_Container\">\r\n\r\n    <br/>\r\n    <span class=\"jaksim_title_font\" style=\"font-weight: bold; font-size: 19px;\">트레이너 상세페이지</span>\r\n    <br/><br/>\r\n    {{#trainer}}\r\n    <div id=\"trainer-info\">\r\n        <script>\r\n        var imageList = [{{#imageList}}\"{{imagePath}}\",{{/imageList}}];\r\n        var firstImage = imageList.length > 0 ? imageList[0] : '';\r\n        var imgTag = \"<img src='\" + firstImage + \"' alt='Trainer Image' width='270' height='270'/>\";\r\n        document.write(imgTag);\r\n        </script>\r\n\r\n        <div id=\"trainer-table\">\r\n                <span class=\"expert1\" style=\"background-color: #E9E1FB;\r\n                    border-radius: 20px;\r\n                    border: none;\r\n                    padding: 10px;\r\n                    width: 120px;\r\n                    text-align: center;\r\n                    font-weight: bold;\r\n                    margin-bottom: 20px;\">{{expert1}}\r\n                </span>\r\n                <span class=\"expert2\" style=\"background-color: #E9E1FB;\r\n                    border-radius: 20px;\r\n                    border: none;\r\n                    padding: 10px;\r\n                    width: 120px;\r\n                    text-align: center;\r\n                    font-weight: bold;\r\n                    margin-bottom: 10px;\">{{expert2}}\r\n                </span><br/><br/>\r\n            <div id=\"trainer_name\" style=\"margin-bottom: 6px;\">\r\n                <span class=\"jaksim_font\" style=\"margin-bottom: 30px;\">{{userName}} 트레이너</span>\r\n            </div>\r\n\r\n            <div style=\"display: flex; align-items: center; margin-bottom: 6px;\">\r\n                <p style=\"margin-right: 5px; margin-top: 15px;\"><i class=\"fa-sharp fa-solid fa-location-dot fa-xl\" style=\"color: #ca7cfd;\"></i></p>\r\n                <div id=\"trainer_gym\">\r\n                    <span class=\"jaksim_font\">{{gym}}</span>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: flex; align-items: center;\">\r\n                <div>\r\n                    <i class=\"fa-brands fa-instagram fa-xl\" style=\"margin-right: 6px; margin-top: 5px;\"></i>\r\n                </div>\r\n                <div id=\"trainer_insta\">\r\n                    <span class=\"jaksim_font\">{{insta}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div> <br/>\r\n    <hr/>\r\n\r\n    <div id=\"trainerInfoList\" style=\"margin-left: 10px\">\r\n        <span class=\"jaksim_font\" style=\"font-weight: bold; font-size: 16px;\">트레이너 자기소개</span>\r\n        <div id=\"trainer-intro\">\r\n            <span class=\"jaksim_font\">{{introduce}}</span>\r\n        </div>\r\n        <br><br/>\r\n    {{/trainer}}\r\n\r\n        <span class=\"jaksim_font\" style=\"font-weight: bold; font-size: 16px;\">자격증</span>\r\n            <div id=\"trainer-cert\">\r\n        {{#cert}}\r\n                <span class=\"jaksim_font\">{{certName}}</span><br/>\r\n                <img src=\"{{certImage}}\" alt=\"Trainer Image\" width=\"220\" height=\"220\">\r\n                {{/cert}}\r\n            </div>\r\n\r\n        <br><br/>\r\n\r\n        <span class=\"jaksim_font\" style=\"font-weight: bold; font-size: 16px;\">경력 / 수상사항</span>\r\n            <div id=\"trainer-career\">\r\n{{#career}}\r\n                <span class=\"jaksim_font\">{{careerContent}}</span> <br/>\r\n{{/career}}\r\n            </div>\r\n        <br><br/>\r\n        <span class=\"jaksim_font\" style=\"font-weight: bold; font-size: 16px;\">추가 사진</span><br/>\r\n            <div style=\"display:inline-block; margin: 7px;\">\r\n{{#imageList}}\r\n                <img src=\"{{imagePath}}\" alt=\"Trainer Image\" width=\"270\" height=\"270\"/>\r\n{{/imageList}}\r\n            </div>\r\n        <br/>\r\n        <hr/>\r\n    </div>\r\n\r\n    <style>\r\n    #pt-info {\r\n    display: flex;\r\n    align-items: center;\r\n    }\r\n\r\n    #pt-info span {\r\n    margin-top: 0;\r\n    margin-bottom: 0;\r\n    }\r\n\r\n    #pt-info .trainer_pay {\r\n    margin-left: 350px;\r\n    }\r\n\r\n\r\n    </style>\r\n    <span style=\"font-weight: bold; font-size: 16px;\">PT 상품</span><br/>\r\n    {{#product}}\r\n        \r\n            <div id=\"pt-info\">\r\n            <input class=\"ptTitle\" hidden=\"hidden\" name=\"ptTitle\" value=\"{{ptTitle}}\" readonly/>\r\n            <input class=\"ptTimes\" hidden=\"hidden\" name=\"ptTimes\" value=\"{{ptTimes}}\" readonly/>\r\n            <input class=\"ptPrice\" hidden=\"hidden\" name=\"ptPrice\" value=\"{{ptPrice}}\" readonly/>\r\n            <input class=\"ptPeriod\" hidden=\"hidden\" name=\"ptPeriod\" class=\"ptPeriod\" value=\"{{ptPeriod}}\"/>\r\n\r\n            <span style=\"width: 155px;\">{{ptTitle}}</span>\r\n        <span style=\"width: width: 101px;\">{{ptTimes}}회 {{ptPrice}}원</span>\r\n\r\n            <div class=\"trainer_pay\" style=\"margin-right: 20px;\">\r\n                <button class=\"payButton\" data-ptId=\"{{ptId}}\">결제하기</button>\r\n            </div>\r\n             </div>\r\n        \r\n    {{/product}}\r\n    <br/>\r\n    <hr>\r\n    <div id=\"review-container\">\r\n        <span class=\"jaksim_font\" style=\"font-weight: bold; font-size: 16px;\">PT 리뷰</span>\r\n        <br/>\r\n\r\n            <div class=\"review-filters\">\r\n                <select id=\"review-filter\" name=\"review-filter\" class=\"jaksim_font\" onchange=\"reviewFiltering()\">\r\n                    <option value=\"highest\">별점 높은순</option>\r\n                    <option value=\"lowest\">별점 낮은순</option>\r\n                    <option value=\"recent\">최신순</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"review\">\r\n                <table>\r\n    <tbody id=\"review-form\">\r\n    {{#review}}\r\n        <tr id=\"review-{{reviewId}}\" class=\"jaksim_font\">\r\n            <td>작심{{reviewId}}</td>\r\n            <td class=\"countStar\" data-star=\"{{star}}\">{{star}}</td>\r\n            <td>{{reviewContent}}</td>\r\n            <td data-date=\"{{reviewCreateDate}}\">{{reviewCreateDate}}</td>\r\n            <td class=\"reviewLink\"> {{userId}}\r\n            </td>\r\n            <td class=\"delete_review_td\" hidden=\"hidden\">\r\n                <form id=\"delete-review-form\" action=\"/deleteReview\" method=\"POST\" style=\"margin-bottom: 0px;\" onsubmit=\"return confirm('리뷰를 삭제하시겠습니까?');\">\r\n                    {{#trainer}}\r\n                        <input type=\"hidden\" name=\"trainerId\" value=\"{{trainerId}}\">\r\n                        <input type=\"submit\" class=\"jaksim_font\" value=\"삭제\" style=\"background-color:\r\n                        transparent; border: none; text-decoration: underline; padding: 0;\">\r\n                    {{/trainer}}\r\n                </form>\r\n            </td>\r\n        </tr>\r\n    {{/review}}\r\n    </tbody>\r\n</table>\r\n            </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n<script>\r\n\r\nwindow.onload = function() {\r\n\r\n    var currentUser = \"{{session_user.username}}\";\r\n    var reviewElements = document.querySelectorAll('.reviewLink');\r\n    var deleteReviewForm = document.querySelectorAll('.delete_review_td');\r\n\r\n    if (currentUser) {\r\n        \r\n\r\n        for (var i = 0; i < reviewElements.length; i++) {\r\n            var reviewId = reviewElements[i].textContent;\r\n            console.log(reviewId);\r\n\r\n            if (currentUser.trim() === reviewId.trim()) {\r\n                reviewElements[i].textContent = '';\r\n                currentUser.textContent = '';\r\n\r\n                var editLink = document.createElement('a');\r\n                editLink.href = \"/editReview\";\r\n                editLink.className = \"jaksim_font\";\r\n                editLink.textContent = \"수정\";\r\n\r\n                deleteReviewForm[i].hidden = false;\r\n\r\n                reviewElements[i].appendChild(editLink);\r\n            }\r\n            else {\r\n                reviewElements[i].textContent = '';\r\n                deleteReviewForm[i].hidden = true;\r\n\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n\r\n\r\n    var stars = document.querySelectorAll('.countStar');\r\n    var expert1 = document.querySelectorAll('.expert1');\r\n    var expert2 = document.querySelectorAll('.expert2');\r\n\r\n    \r\n\r\n    for(var i=0; i<stars.length; i++) {\r\n        var starCount = parseInt(stars[i].textContent);\r\n        stars[i].textContent = '';\r\n\r\n        for(var j=0; j<starCount; j++) {\r\n            var starIcon = document.createElement('i');\r\n            starIcon.className = 'fa-solid fa-star';\r\n            starIcon.style.color = '#f3eb12';\r\n            stars[i].appendChild(starIcon);\r\n        }\r\n        \r\n    }\r\n    \r\n\r\n    for(var i=0; i<expert1.length; i++) {\r\n        var experts = parseInt(expert1[i].textContent);\r\n        var experts2 = parseInt(expert2[i].textContent);\r\n\r\n        if(experts == 0) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#바디프로필';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n        else if(experts == 1) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#파워리프팅';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n        else if(experts == 2) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#다이어트';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n        else if(experts == 3) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#재활운동';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n        else if(experts == 4) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#자세교정';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n        else if(experts == 5) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#컨디셔닝';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n\r\n\r\n        if(experts2 == 0) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#바디프로필';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n        else if(experts2 == 1) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#파워리프팅';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n        else if(experts2 == 2) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#다이어트';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n        else if(experts2 == 3) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#재활운동';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n        else if(experts2 == 4) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#자세교정';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n        else if(experts2 == 5) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#컨디셔닝';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n    \r\n    }\r\n\r\n}\r\n\r\n\r\n  // 리뷰 필터링 함수\r\n  function reviewFiltering() {\r\n    // 선택한 필터링 옵션 가져오기\r\n    var filterOption = document.getElementById(\"review-filter\").value;\r\n    var reviewList = document.getElementsByClassName(\"review\")[0];\r\n\r\n    // 리뷰 목록을 가져와서 배열로 변환합니다\r\n    var reviewItems = Array.from(reviewList.getElementsByTagName(\"tr\"));\r\n\r\n    // 필터링 옵션에 따라 리뷰 목록을 정렬합니다\r\n    switch (filterOption) {\r\n      case \"highest\":\r\n        reviewItems.sort(function(a, b) {\r\n          var starA = parseInt(a.getElementsByTagName(\"td\")[1].dataset.star, 10);\r\n          var starB = parseInt(b.getElementsByTagName(\"td\")[1].dataset.star, 10);\r\n          return starB - starA;\r\n        });\r\n        break;\r\n      case \"lowest\":\r\n        reviewItems.sort(function(a, b) {\r\n          var starA = parseInt(a.getElementsByTagName(\"td\")[1].dataset.star, 10);\r\n          var starB = parseInt(b.getElementsByTagName(\"td\")[1].dataset.star, 10);\r\n          return starA - starB;\r\n        });\r\n        break;\r\n      case \"recent\":\r\n        reviewItems.sort(function(a, b) {\r\n          var dateA = new Date(a.getElementsByTagName(\"td\")[3].textContent);\r\n          var dateB = new Date(b.getElementsByTagName(\"td\")[3].textContent);\r\n          return dateB - dateA;\r\n        });\r\n        break;\r\n    }\r\n\r\n    // 정렬된 리뷰 목록을 다시 추가합니다\r\n    for (var i = 0; i < reviewItems.length; i++) {\r\n      reviewList.appendChild(reviewItems[i]);\r\n    }\r\n  }\r\n\r\n  //tpIdx, ptTitle, ptPrice, pt_times, pt_period\r\n  //product인덱스, 제목, 가격, 횟수, 유효기간\r\n\r\nvar payButtons = document.querySelectorAll('.payButton');\r\n\r\npayButtons.forEach(function(button) {\r\n  button.addEventListener('click', function() {\r\n    var ptInfo = this.parentNode.parentNode;\r\n    var tpIdx = parseInt(this.getAttribute('data-ptId'));\r\n    var ptTitle = ptInfo.querySelector('.ptTitle').value;\r\n    var ptPrice = parseInt(ptInfo.querySelector('.ptPrice').value);\r\n    var ptTimes = parseInt(ptInfo.querySelector('.ptTimes').value);\r\n    var ptPeriod = parseInt(ptInfo.querySelector('.ptPeriod').value);\r\n\r\n    kakaoPay(ptTitle, tpIdx, ptPrice, ptTimes, ptPeriod);\r\n  });\r\n}\r\n\r\n);\r\n\r\n\r\n\r\n</script>\r\n{{>layout/footer}}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/build/resources/main/templates/content/trainer/trainerDetailPage.mustache b/JakSim/build/resources/main/templates/content/trainer/trainerDetailPage.mustache
--- a/JakSim/build/resources/main/templates/content/trainer/trainerDetailPage.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/build/resources/main/templates/content/trainer/trainerDetailPage.mustache	(date 1689498141626)
@@ -187,13 +187,14 @@
         for (var i = 0; i < reviewElements.length; i++) {
             var reviewId = reviewElements[i].textContent;
             console.log(reviewId);
+            {{#review}} 
 
             if (currentUser.trim() === reviewId.trim()) {
                 reviewElements[i].textContent = '';
                 currentUser.textContent = '';
 
                 var editLink = document.createElement('a');
-                editLink.href = "/editReview";
+                editLink.href = "/editReview/{{reviewId}}";
                 editLink.className = "jaksim_font";
                 editLink.textContent = "수정";
 
@@ -206,6 +207,7 @@
                 deleteReviewForm[i].hidden = true;
 
             }
+            {{/review}}
         }
     }
     
Index: JakSim/build/resources/main/templates/content/scheduleList/generalScheduleList.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{{>layout/header}}\r\n    <script src=\"/javascript/scheduleList/root.js\"></script>\r\n    <script src=\"/javascript/scheduleList/scheduler.js\"></script>\r\n    <script src=\"/javascript/trainer/trainerBrief.js\"></script>\r\n    <script src=\"/javascript/product/ptList.js\"></script>\r\n    <script src=\"/javascript/reservation/reservation.js\"></script>\r\n    <script src=\"/javascript/timetable/timetable.js\"></script>\r\n<!--    <script src=\"/javascript/scheduleList/selectBoxCustom.js\"></script>-->\r\n    <link rel=\"stylesheet\" href=\"/css/scheduleList/scheduleListStyle.css\">\r\n    <link rel=\"stylesheet\" href=\"/css/scheduleList/ptListStyle.css\">\r\n<!--    <link rel=\"stylesheet\" href=\"/css/scheduleList/selectBoxCustom.css\">-->\r\n    <link rel=\"stylesheet\" href=\"/css/scheduleList/trainerDetailsStyle.css\">\r\n    <link rel=\"stylesheet\" href=\"/css/scheduleList/timetableStyle.css\">\r\n</head>\r\n<body>\r\n{{>layout/navi}}\r\n<div class=\"container\">\r\n<!--    <div id=\"trainer-list\">-->\r\n<!--        <button class=\"selected\">남유정</button>-->\r\n<!--        <ul class=\"optionList\">-->\r\n<!--            <li class=\"optionItem\">구세은</li>-->\r\n<!--            <li class=\"optionItem\">남유정</li>-->\r\n<!--            <li class=\"optionItem\">장효림</li>-->\r\n<!--        </ul>-->\r\n<!--    </div>-->\r\n    <div id=\"select-pt\">\r\n        <span id=\"pt_type\"></span>\r\n        <span id=\"pt_cnt\"></span>\r\n\r\n        <select name=\"ptList\" id=\"trainer_list\" =\"selectbox\"></select>\r\n    </div>\r\n    <div id=\"scheduler\">\r\n        <table class=\"Calendar\">\r\n            <thead>\r\n                <tr>\r\n                    <td id =\"calbutton\" onClick=\"prevCalendar();\" style=\"cursor:pointer;\">&#60;</td>\r\n                    <td colspan=\"5\">\r\n                        <span id=\"calYear\"></span>년\r\n                        <span id=\"calMonth\"></span>월\r\n                    </td>\r\n                    <td id =\"calbutton\" onClick=\"nextCalendar();\" style=\"cursor:pointer;\">&#62;</td>\r\n                </tr>\r\n\r\n                <tr colspan=\"15\">\r\n                    <td id=\"sun\">일</td>\r\n                    <td>월</td>\r\n                    <td>화</td>\r\n                    <td>수</td>\r\n                    <td>목</td>\r\n                    <td>금</td>\r\n                    <td id=\"sat\">토</td>\r\n                </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <div id=\"trainer2\" class=\"jaksim_font\">\r\n        <div id=\"trainer-details\" method=\"get\" action=\"/ScheduleList/trainer\">\r\n            <h6 id=\"title\"><b/>트레이너 상세 정보</h6>\r\n            <br>\r\n            <input class=\"trainer-info\" type=\"image\" src=\"/image/trainerNam.jpg\" >\r\n            <div id=\"trainerDetail\">\r\n                <a href=\"\" id=\"trainerName\"></a>\r\n                <br>\r\n\r\n                <b>성별 : </b>\r\n                <span id=\"gender\"></span>\r\n                <br>\r\n\r\n                <b>헬스장 : </b>\r\n                <span id=\"gym\"></span>\r\n                <br>\r\n\r\n                <b>전문 분야 : </b>\r\n                <span id=\"expert\"></span>\r\n                <br>\r\n\r\n                <a href=\"\" id=\"insta\"><img src=\"/image/instaImg.png\" alt=\"instaLink\"></a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div id=\"timetable\">\r\n        <div id=\"timetableDetail\">\r\n            <p id=\"title\">예약시간</p>\r\n\r\n            <div id = timetableList></div>\r\n\r\n            <button id=\"reservationBtn\" class=\"jaksim_btn\" type=\"button\" >예약하기</button>\r\n        </div>\r\n        <div id=\"timetable_date_wrapper\">\r\n            <div id=\"reservation_date\"></div>\r\n\r\n            <div id=\"timetable_user_inlist\">\r\n                <span id=\"reservation_list\"></span>\r\n\r\n                <button id=\"resCancleBtn\" class=\"jaksim_btn\">예약 취소</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n{{>layout/footer}}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/build/resources/main/templates/content/scheduleList/generalScheduleList.mustache b/JakSim/build/resources/main/templates/content/scheduleList/generalScheduleList.mustache
--- a/JakSim/build/resources/main/templates/content/scheduleList/generalScheduleList.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/build/resources/main/templates/content/scheduleList/generalScheduleList.mustache	(date 1689498141603)
@@ -60,7 +60,7 @@
         <div id="trainer-details" method="get" action="/ScheduleList/trainer">
             <h6 id="title"><b/>트레이너 상세 정보</h6>
             <br>
-            <input class="trainer-info" type="image" src="/image/trainerNam.jpg" >
+            <input id="trainer-info" type="image" src="" >
             <div id="trainerDetail">
                 <a href="" id="trainerName"></a>
                 <br>
Index: JakSim/build/resources/main/templates/content/mypage/content/main_content.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><div class=\"mypage_container\" style=\"background-\">\r\r    <div class=\"mypage_table_div\">\r        <div class=\"mypage_table_tableHead\">\r            <a href=\"/mypage/{{user_info.id}}/profile\"><span>내 프로필</span></a>\r        </div>\r        <div class=\"mypage_table_row  jaksim_font\">\r            <input id=\"profile_name_input\" type=\"text\" value=\"{{user_info.name}}\" class=\"jaksim_font profile_input\" readonly>\r            <button class=\"jaksim_btn\" id=\"profile_name_change\">이름 수정</button>\r        </div>\r        <div class=\"mypage_table_row  jaksim_font\">\r            <input id=\"profile_tel_input\" type=\"text\" value=\"{{user_info.tel}}\" class=\"jaksim_font profile_input\" readonly>\r            <button class=\"jaksim_btn\" id=\"profile_tel_change\">번호 수정</button>\r        </div>\r        <div class=\"mypage_table_row  jaksim_font\">\r            <span>{{user_info.email}}</span>\r            <button class=\"jaksim_btn\" onclick=\"window.location.href='/mypage/{{user_info.id}}/profile'\">인증 및 수정</button>\r        </div>\r        <div class=\"mypage_table_row jaksim_font\">\r            <span>{{user_info.c_dt}}</span>\r            <button class=\"jaksim_btn\">생성일자</button>\r        </div>\r        <div class=\"mypage_table_row jaksim_font\">\r            <span>회원탈퇴</span>\r            <button class=\"btn btn-danger\" type=\"button\" id=\"mypage_delete\">탈퇴</button>\r        </div>\r    </div>\r\r    <div class=\"mypage_table_div\">\r        <div class=\"mypage_table_tableHead\">\r            <a href=\"#\"><span>내가 작성한 리뷰</span></a>\r        </div>\r        <div class=\"mypage_table_row\">\r            <table>\r                <thead style=\"text-align:center\">\r                <th style=\"width:40px;\">번호</th>\r                <th style=\"width:470px;\">리뷰 내용</th>\r                <th style=\"width:60px;\">별점</th>\r                <th style=\"width: 180px;\">등록일자</th>\r                </thead>\r            </table>\r        </div>\r            {{#reviewList}}\r            <div class=\"mypage_table_row\">\r                <table class=\"mypage_table_innerRow\">\r                    <tbody style=\"text-align:center;\">\r                    <tr class=\"jaksim_font\">\r                        <td style=\"width:40px;\"><span>{{reviewId}}</span></td>\r                        <td style=\"width:470px;\" class=\"mypage_review_content\"><span>{{reviewContent}}</span></td>\r                        <td style=\"width:60px;\"><span>{{star}} / 5</span></td>\r                        <td style=\"width: 180px;\"><span>{{reviewCreateDate}}</span></td>\r                    </tr>\r                    </tbody>\r                </table>\r                <button class=\"jaksim_btn\">리뷰 확인</button>\r            </div>\r            {{/reviewList}}\r            {{^reviewList}}\r            <div class=\"mypage_table_row\">\r                <span>트레이너를 등록하시고 리뷰를 작성해주세요!</span>\r                <button class=\"jaksim_btn\">리뷰 작성</button>\r            </div>\r            {{/reviewList}}\r\r    </div>\r\r    <div class=\"mypage_table_div\">\r        <div class=\"mypage_table_tableHead\">\r            <a href=\"/pay/list\"><span>결제 목록</span></a>\r        </div>\r        <div class=\"mypage_table_row\">\r            <table>\r                <thead style=\"text-align: center;\">\r                <th style=\"width:40px;\">번호</th>\r                <th style=\"width:50px;\">분류</th>\r                <th style=\"width:270px;\">결제 내용</th>\r                <th style=\"width:110px;\">가격</th>\r                <th style=\"width:50px;\">횟수</th>\r                <th style=\"width: 230px;\">유효 기간</th>\r                </thead>\r            </table>\r        </div>\r            {{#payment}}\r                <div class=\"mypage_table_row\">\r                    <table class=\"mypage_table_innerRow\">\r                        <tbody style=\"text-align:center;\">\r                        <tr class=\"jaksim_font\">\r                            <td style=\"width:40px;\"><span>{{idx}}</span></td>\r                            <td style=\"width:50px;\"><span class=\"mypage_pay_type\">{{type}}</span></td>\r                            <td style=\"width:270px;\" class=\"mypage_pay_content\"><span>{{title}}</span></td>\r                            <td style=\"width: 110px; text-align:right;\"><span class=\"mypage_pay_price\">{{price}}</span><span>원</span></td>\r                            <td style=\"width:50px;\"><span>{{pt_cnt}} / {{total_cnt}}</span></td>\r                            <td style=\"width: 230px;\"><span>{{p_c_dt}} ~ {{p_f_dt}}</span></td>\r                        </tr>\r                        </tbody>\r                    </table>\r                    <button class=\"jaksim_btn\" onclick=\"window.location.href='#'\">결제 확인</button>\r                </div>\r            {{/payment}}\r            {{^payment}}\r            <div class=\"mypage_table_row\">\r                <span>트레이너를 검색하고 PT를 등록해보세요!</span>\r                <button class=\"jaksim_btn\" onclick=\"window.location.href='/';\">트레이너 검색</button>\r            </div>\r            {{/payment}}\r    </div>\r\r    <div class=\"mypage_table_div\">\r        <div class=\"mypage_table_tableHead\">\r            <a href=\"/mypage/{{user_info.id}}/history/inbody\"><span>인바디</span></a>\r        </div>\r        <div class=\"mypage_table_row jaksim_font\" id=\"textContainer\">\r            <span>인바디를 기록하고 그래프로 확인해보세요!</span>\r            <button class=\"jaksim_btn\" onclick=\"window.location.href='/mypage/{{user_info.id}}/history/inbody'\">인바디 기록하기</button>\r        </div>\r    </div>\r\r</div>\r\r\r
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/build/resources/main/templates/content/mypage/content/main_content.mustache b/JakSim/build/resources/main/templates/content/mypage/content/main_content.mustache
--- a/JakSim/build/resources/main/templates/content/mypage/content/main_content.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/build/resources/main/templates/content/mypage/content/main_content.mustache	(date 1689498141537)
@@ -40,7 +40,7 @@
                 </thead>
             </table>
         </div>
-            {{#reviewList}}
+        {{#reviewList}}
             <div class="mypage_table_row">
                 <table class="mypage_table_innerRow">
                     <tbody style="text-align:center;">
@@ -49,24 +49,24 @@
                         <td style="width:470px;" class="mypage_review_content"><span>{{reviewContent}}</span></td>
                         <td style="width:60px;"><span>{{star}} / 5</span></td>
                         <td style="width: 180px;"><span>{{reviewCreateDate}}</span></td>
+                        <td style="text-align:right;"><button class="jaksim_btn mypage_viewReview">리뷰 수정</button></td>
                     </tr>
                     </tbody>
                 </table>
-                <button class="jaksim_btn">리뷰 확인</button>
             </div>
-            {{/reviewList}}
-            {{^reviewList}}
+        {{/reviewList}}
+        {{^reviewList}}
             <div class="mypage_table_row">
                 <span>트레이너를 등록하시고 리뷰를 작성해주세요!</span>
                 <button class="jaksim_btn">리뷰 작성</button>
             </div>
-            {{/reviewList}}
+        {{/reviewList}}
 
     </div>
 
     <div class="mypage_table_div">
         <div class="mypage_table_tableHead">
-            <a href="/pay/list"><span>결제 목록</span></a>
+            <a href="/payment/list"><span>결제 목록</span></a>
         </div>
         <div class="mypage_table_row">
             <table>
@@ -80,29 +80,29 @@
                 </thead>
             </table>
         </div>
-            {{#payment}}
-                <div class="mypage_table_row">
-                    <table class="mypage_table_innerRow">
-                        <tbody style="text-align:center;">
-                        <tr class="jaksim_font">
-                            <td style="width:40px;"><span>{{idx}}</span></td>
-                            <td style="width:50px;"><span class="mypage_pay_type">{{type}}</span></td>
-                            <td style="width:270px;" class="mypage_pay_content"><span>{{title}}</span></td>
-                            <td style="width: 110px; text-align:right;"><span class="mypage_pay_price">{{price}}</span><span>원</span></td>
-                            <td style="width:50px;"><span>{{pt_cnt}} / {{total_cnt}}</span></td>
-                            <td style="width: 230px;"><span>{{p_c_dt}} ~ {{p_f_dt}}</span></td>
-                        </tr>
-                        </tbody>
-                    </table>
-                    <button class="jaksim_btn" onclick="window.location.href='#'">결제 확인</button>
-                </div>
-            {{/payment}}
-            {{^payment}}
+        {{#payment}}
+            <div class="mypage_table_row">
+                <table class="mypage_table_innerRow">
+                    <tbody style="text-align:center;">
+                    <tr class="jaksim_font">
+                        <td style="width:40px;"><span>{{idx}}</span></td>
+                        <td style="width:50px;"><span class="mypage_pay_type">{{type}}</span></td>
+                        <td style="width:270px;" class="mypage_pay_content"><span>{{title}}</span></td>
+                        <td style="width: 110px; text-align:right;"><span class="mypage_pay_price">{{price}}</span><span>원</span></td>
+                        <td style="width:50px;"><span>{{pt_cnt}} / {{total_cnt}}</span></td>
+                        <td style="width: 230px;"><span>{{p_c_dt}} ~ {{p_f_dt}}</span></td>
+                        <td style="text-align:right;"><button class="jaksim_btn mypage_viewPayDetail" onclick="window.location.href='#'">결제 확인</button></td>
+                    </tr>
+                    </tbody>
+                </table>
+            </div>
+        {{/payment}}
+        {{^payment}}
             <div class="mypage_table_row">
                 <span>트레이너를 검색하고 PT를 등록해보세요!</span>
                 <button class="jaksim_btn" onclick="window.location.href='/';">트레이너 검색</button>
             </div>
-            {{/payment}}
+        {{/payment}}
     </div>
 
     <div class="mypage_table_div">
@@ -117,4 +117,4 @@
 
 </div>
 
-
\ No newline at end of file
+
Index: JakSim/build/resources/main/application.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>spring.datasource.driverClassName=org.mariadb.jdbc.Driver\r\nspring.datasource.url=jdbc:mariadb://localhost:3306/Jaksim\r\nspring.datasource.username=root\r\nspring.datasource.password=05jg29nh06sy05rej\r\n\r\nserver.port=8080\r\nspring.output.ansi.enabled=always\r\nserver.servlet.encoding.force-response=true\r\n\r\nspring.mustache.expose-session-attributes=true\r\n\r\nserver.servlet.session.timeout=3000\r\nserver.servlet.session.cookie.max-age=-1\r\n\r\n#naver SMTP\r\nspring.mail.host=smtp.naver.com\r\nspring.mail.port=465\r\nspring.mail.username=lsd4026\r\nspring.mail.password=wkrtlaemrrms1!\r\nspring.mail.properties.mail.smtp.starttls.enable=true\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.smtp.ssl.enable=true\r\n\r\n#Character Set\r\nspring.http.encoding.charset=UTF-8\r\nspring.http.encoding.enabled = true\r\nspring.http.encoding.force=true\r\n\r\nspring.servlet.multipart.max-request-size=20MB\r\nspring.servlet.multipart.max-file-size=20MB\r\nspring.servlet.multipart.enabled=true
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/JakSim/build/resources/main/application.properties b/JakSim/build/resources/main/application.properties
--- a/JakSim/build/resources/main/application.properties	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/build/resources/main/application.properties	(date 1689498141144)
@@ -7,7 +7,7 @@
 spring.output.ansi.enabled=always
 server.servlet.encoding.force-response=true
 
-spring.mustache.expose-session-attributes=true
+spring.mustache.servlet.expose-session-attributes=true
 
 server.servlet.session.timeout=3000
 server.servlet.session.cookie.max-age=-1
@@ -26,6 +26,8 @@
 spring.http.encoding.enabled = true
 spring.http.encoding.force=true
 
+
+#FileRegister Set
 spring.servlet.multipart.max-request-size=20MB
 spring.servlet.multipart.max-file-size=20MB
 spring.servlet.multipart.enabled=true
\ No newline at end of file
Index: JakSim/src/main/resources/templates/content/trainer/trainerDetailPage.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{{>layout/header}}\r\n<link rel=\"stylesheet\" href=\"/css/trainer/trainerPage.css\">\r\n<script src=\"https://kit.fontawesome.com/05995ac069.js\" crossorigin=\"anonymous\"></script>\r\n<script src=\"/javascript/payment/kakaoPay.js\"></script>\r\n\r\n<body>\r\n{{>layout/navi}}\r\n<div id=\"trainer_Detail_Container\">\r\n\r\n    <br/>\r\n    <span class=\"jaksim_title_font\" style=\"font-weight: bold; font-size: 19px;\">트레이너 상세페이지</span>\r\n    <br/><br/>\r\n    {{#trainer}}\r\n    <div id=\"trainer-info\">\r\n        <script>\r\n        var imageList = [{{#imageList}}\"{{imagePath}}\",{{/imageList}}];\r\n        var firstImage = imageList.length > 0 ? imageList[0] : '';\r\n        var imgTag = \"<img src='\" + firstImage + \"' alt='Trainer Image' width='270' height='270'/>\";\r\n        document.write(imgTag);\r\n        </script>\r\n\r\n        <div id=\"trainer-table\">\r\n                <span class=\"expert1\" style=\"background-color: #E9E1FB;\r\n                    border-radius: 20px;\r\n                    border: none;\r\n                    padding: 10px;\r\n                    width: 120px;\r\n                    text-align: center;\r\n                    font-weight: bold;\r\n                    margin-bottom: 20px;\">{{expert1}}\r\n                </span>\r\n                <span class=\"expert2\" style=\"background-color: #E9E1FB;\r\n                    border-radius: 20px;\r\n                    border: none;\r\n                    padding: 10px;\r\n                    width: 120px;\r\n                    text-align: center;\r\n                    font-weight: bold;\r\n                    margin-bottom: 10px;\">{{expert2}}\r\n                </span><br/><br/>\r\n            <div id=\"trainer_name\" style=\"margin-bottom: 6px;\">\r\n                <span class=\"jaksim_font\" style=\"margin-bottom: 30px;\">{{userName}} 트레이너</span>\r\n            </div>\r\n\r\n            <div style=\"display: flex; align-items: center; margin-bottom: 6px;\">\r\n                <p style=\"margin-right: 5px; margin-top: 15px;\"><i class=\"fa-sharp fa-solid fa-location-dot fa-xl\" style=\"color: #ca7cfd;\"></i></p>\r\n                <div id=\"trainer_gym\">\r\n                    <span class=\"jaksim_font\">{{gym}}</span>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: flex; align-items: center;\">\r\n                <div>\r\n                    <i class=\"fa-brands fa-instagram fa-xl\" style=\"margin-right: 6px; margin-top: 5px;\"></i>\r\n                </div>\r\n                <div id=\"trainer_insta\">\r\n                    <span class=\"jaksim_font\">{{insta}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div> <br/>\r\n    <hr/>\r\n\r\n    <div id=\"trainerInfoList\" style=\"margin-left: 10px\">\r\n        <span class=\"jaksim_font\" style=\"font-weight: bold; font-size: 16px;\">트레이너 자기소개</span>\r\n        <div id=\"trainer-intro\">\r\n            <span class=\"jaksim_font\">{{introduce}}</span>\r\n        </div>\r\n        <br><br/>\r\n    {{/trainer}}\r\n\r\n        <span class=\"jaksim_font\" style=\"font-weight: bold; font-size: 16px;\">자격증</span>\r\n            <div id=\"trainer-cert\">\r\n        {{#cert}}\r\n                <span class=\"jaksim_font\">{{certName}}</span><br/>\r\n                <img src=\"{{certImage}}\" alt=\"Trainer Image\" width=\"220\" height=\"220\">\r\n                {{/cert}}\r\n            </div>\r\n\r\n        <br><br/>\r\n\r\n        <span class=\"jaksim_font\" style=\"font-weight: bold; font-size: 16px;\">경력 / 수상사항</span>\r\n            <div id=\"trainer-career\">\r\n{{#career}}\r\n                <span class=\"jaksim_font\">{{careerContent}}</span> <br/>\r\n{{/career}}\r\n            </div>\r\n        <br><br/>\r\n        <span class=\"jaksim_font\" style=\"font-weight: bold; font-size: 16px;\">추가 사진</span><br/>\r\n            <div style=\"display:inline-block; margin: 7px;\">\r\n{{#imageList}}\r\n                <img src=\"{{imagePath}}\" alt=\"Trainer Image\" width=\"270\" height=\"270\"/>\r\n{{/imageList}}\r\n            </div>\r\n        <br/>\r\n        <hr/>\r\n    </div>\r\n\r\n    <style>\r\n    #pt-info {\r\n    display: flex;\r\n    align-items: center;\r\n    }\r\n\r\n    #pt-info span {\r\n    margin-top: 0;\r\n    margin-bottom: 0;\r\n    }\r\n\r\n    #pt-info .trainer_pay {\r\n    margin-left: 350px;\r\n    }\r\n\r\n\r\n    </style>\r\n    <span style=\"font-weight: bold; font-size: 16px;\">PT 상품</span><br/>\r\n    {{#product}}\r\n        \r\n            <div id=\"pt-info\">\r\n            <input class=\"ptTitle\" hidden=\"hidden\" name=\"ptTitle\" value=\"{{ptTitle}}\" readonly/>\r\n            <input class=\"ptTimes\" hidden=\"hidden\" name=\"ptTimes\" value=\"{{ptTimes}}\" readonly/>\r\n            <input class=\"ptPrice\" hidden=\"hidden\" name=\"ptPrice\" value=\"{{ptPrice}}\" readonly/>\r\n            <input class=\"ptPeriod\" hidden=\"hidden\" name=\"ptPeriod\" class=\"ptPeriod\" value=\"{{ptPeriod}}\"/>\r\n\r\n            <span style=\"width: 155px;\">{{ptTitle}}</span>\r\n        <span style=\"width: width: 101px;\">{{ptTimes}}회 {{ptPrice}}원</span>\r\n\r\n            <div class=\"trainer_pay\" style=\"margin-right: 20px;\">\r\n                <button class=\"payButton\" data-ptId=\"{{ptId}}\">결제하기</button>\r\n            </div>\r\n             </div>\r\n        \r\n    {{/product}}\r\n    <br/>\r\n    <hr>\r\n    <div id=\"review-container\">\r\n        <span class=\"jaksim_font\" style=\"font-weight: bold; font-size: 16px;\">PT 리뷰</span>\r\n        <br/>\r\n\r\n            <div class=\"review-filters\">\r\n                <select id=\"review-filter\" name=\"review-filter\" class=\"jaksim_font\" onchange=\"reviewFiltering()\">\r\n                    <option value=\"highest\">별점 높은순</option>\r\n                    <option value=\"lowest\">별점 낮은순</option>\r\n                    <option value=\"recent\">최신순</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"review\">\r\n                <table>\r\n    <tbody id=\"review-form\">\r\n    {{#review}}\r\n        <tr id=\"review-{{reviewId}}\" class=\"jaksim_font\">\r\n            <td>작심{{reviewId}}</td>\r\n            <td class=\"countStar\" data-star=\"{{star}}\">{{star}}</td>\r\n            <td>{{reviewContent}}</td>\r\n            <td data-date=\"{{reviewCreateDate}}\">{{reviewCreateDate}}</td>\r\n            <td class=\"reviewLink\"> {{userId}}\r\n            </td>\r\n            <td class=\"delete_review_td\" hidden=\"hidden\">\r\n                <form id=\"delete-review-form\" action=\"/deleteReview\" method=\"POST\" style=\"margin-bottom: 0px;\" onsubmit=\"return confirm('리뷰를 삭제하시겠습니까?');\">\r\n                    {{#trainer}}\r\n                        <input type=\"hidden\" name=\"trainerId\" value=\"{{trainerId}}\">\r\n                        <input type=\"submit\" class=\"jaksim_font\" value=\"삭제\" style=\"background-color:\r\n                        transparent; border: none; text-decoration: underline; padding: 0;\">\r\n                    {{/trainer}}\r\n                </form>\r\n            </td>\r\n        </tr>\r\n    {{/review}}\r\n    </tbody>\r\n</table>\r\n            </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n<script>\r\n\r\nwindow.onload = function() {\r\n\r\n    var currentUser = \"{{session_user.username}}\";\r\n    var reviewElements = document.querySelectorAll('.reviewLink');\r\n    var deleteReviewForm = document.querySelectorAll('.delete_review_td');\r\n\r\n    if (currentUser) {\r\n        \r\n\r\n        for (var i = 0; i < reviewElements.length; i++) {\r\n            var reviewId = reviewElements[i].textContent;\r\n            console.log(reviewId);\r\n\r\n            if (currentUser.trim() === reviewId.trim()) {\r\n                reviewElements[i].textContent = '';\r\n                currentUser.textContent = '';\r\n\r\n                var editLink = document.createElement('a');\r\n                editLink.href = \"/editReview\";\r\n                editLink.className = \"jaksim_font\";\r\n                editLink.textContent = \"수정\";\r\n\r\n                deleteReviewForm[i].hidden = false;\r\n\r\n                reviewElements[i].appendChild(editLink);\r\n            }\r\n            else {\r\n                reviewElements[i].textContent = '';\r\n                deleteReviewForm[i].hidden = true;\r\n\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n\r\n\r\n    var stars = document.querySelectorAll('.countStar');\r\n    var expert1 = document.querySelectorAll('.expert1');\r\n    var expert2 = document.querySelectorAll('.expert2');\r\n\r\n    \r\n\r\n    for(var i=0; i<stars.length; i++) {\r\n        var starCount = parseInt(stars[i].textContent);\r\n        stars[i].textContent = '';\r\n\r\n        for(var j=0; j<starCount; j++) {\r\n            var starIcon = document.createElement('i');\r\n            starIcon.className = 'fa-solid fa-star';\r\n            starIcon.style.color = '#f3eb12';\r\n            stars[i].appendChild(starIcon);\r\n        }\r\n        \r\n    }\r\n    \r\n\r\n    for(var i=0; i<expert1.length; i++) {\r\n        var experts = parseInt(expert1[i].textContent);\r\n        var experts2 = parseInt(expert2[i].textContent);\r\n\r\n        if(experts == 0) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#바디프로필';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n        else if(experts == 1) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#파워리프팅';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n        else if(experts == 2) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#다이어트';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n        else if(experts == 3) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#재활운동';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n        else if(experts == 4) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#자세교정';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n        else if(experts == 5) {\r\n            expert1[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#컨디셔닝';\r\n            expert1[i].appendChild(exText);\r\n        }\r\n\r\n\r\n        if(experts2 == 0) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#바디프로필';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n        else if(experts2 == 1) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#파워리프팅';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n        else if(experts2 == 2) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#다이어트';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n        else if(experts2 == 3) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#재활운동';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n        else if(experts2 == 4) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#자세교정';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n        else if(experts2 == 5) {\r\n            expert2[i].textContent = '';\r\n            var exText = document.createElement('span');\r\n            exText.className = 'expert';\r\n            exText.textContent = '#컨디셔닝';\r\n            expert2[i].appendChild(exText);\r\n        }\r\n    \r\n    }\r\n\r\n}\r\n\r\n\r\n  // 리뷰 필터링 함수\r\n  function reviewFiltering() {\r\n    // 선택한 필터링 옵션 가져오기\r\n    var filterOption = document.getElementById(\"review-filter\").value;\r\n    var reviewList = document.getElementsByClassName(\"review\")[0];\r\n\r\n    // 리뷰 목록을 가져와서 배열로 변환합니다\r\n    var reviewItems = Array.from(reviewList.getElementsByTagName(\"tr\"));\r\n\r\n    // 필터링 옵션에 따라 리뷰 목록을 정렬합니다\r\n    switch (filterOption) {\r\n      case \"highest\":\r\n        reviewItems.sort(function(a, b) {\r\n          var starA = parseInt(a.getElementsByTagName(\"td\")[1].dataset.star, 10);\r\n          var starB = parseInt(b.getElementsByTagName(\"td\")[1].dataset.star, 10);\r\n          return starB - starA;\r\n        });\r\n        break;\r\n      case \"lowest\":\r\n        reviewItems.sort(function(a, b) {\r\n          var starA = parseInt(a.getElementsByTagName(\"td\")[1].dataset.star, 10);\r\n          var starB = parseInt(b.getElementsByTagName(\"td\")[1].dataset.star, 10);\r\n          return starA - starB;\r\n        });\r\n        break;\r\n      case \"recent\":\r\n        reviewItems.sort(function(a, b) {\r\n          var dateA = new Date(a.getElementsByTagName(\"td\")[3].textContent);\r\n          var dateB = new Date(b.getElementsByTagName(\"td\")[3].textContent);\r\n          return dateB - dateA;\r\n        });\r\n        break;\r\n    }\r\n\r\n    // 정렬된 리뷰 목록을 다시 추가합니다\r\n    for (var i = 0; i < reviewItems.length; i++) {\r\n      reviewList.appendChild(reviewItems[i]);\r\n    }\r\n  }\r\n\r\n  //tpIdx, ptTitle, ptPrice, pt_times, pt_period\r\n  //product인덱스, 제목, 가격, 횟수, 유효기간\r\n\r\nvar payButtons = document.querySelectorAll('.payButton');\r\n\r\npayButtons.forEach(function(button) {\r\n  button.addEventListener('click', function() {\r\n    var ptInfo = this.parentNode.parentNode;\r\n    var tpIdx = parseInt(this.getAttribute('data-ptId'));\r\n    var ptTitle = ptInfo.querySelector('.ptTitle').value;\r\n    var ptPrice = parseInt(ptInfo.querySelector('.ptPrice').value);\r\n    var ptTimes = parseInt(ptInfo.querySelector('.ptTimes').value);\r\n    var ptPeriod = parseInt(ptInfo.querySelector('.ptPeriod').value);\r\n\r\n    kakaoPay(ptTitle, tpIdx, ptPrice, ptTimes, ptPeriod);\r\n  });\r\n}\r\n\r\n);\r\n\r\n\r\n\r\n</script>\r\n{{>layout/footer}}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/resources/templates/content/trainer/trainerDetailPage.mustache b/JakSim/src/main/resources/templates/content/trainer/trainerDetailPage.mustache
--- a/JakSim/src/main/resources/templates/content/trainer/trainerDetailPage.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/resources/templates/content/trainer/trainerDetailPage.mustache	(date 1689488473366)
@@ -187,13 +187,14 @@
         for (var i = 0; i < reviewElements.length; i++) {
             var reviewId = reviewElements[i].textContent;
             console.log(reviewId);
+            {{#review}} 
 
             if (currentUser.trim() === reviewId.trim()) {
                 reviewElements[i].textContent = '';
                 currentUser.textContent = '';
 
                 var editLink = document.createElement('a');
-                editLink.href = "/editReview";
+                editLink.href = "/editReview/{{reviewId}}";
                 editLink.className = "jaksim_font";
                 editLink.textContent = "수정";
 
@@ -206,6 +207,7 @@
                 deleteReviewForm[i].hidden = true;
 
             }
+            {{/review}}
         }
     }
     
Index: JakSim/build/resources/main/templates/content/trainer/trainer_aside.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><div id=\"mypage_aside_profileImgContainer\">\r\n    <img src=\"/image/profile.jpg\" alt=\"profile\" id=\"mypage_aside_profileImg\">\r\n</div>\r\n<h3 id=\"mypage_aside_username\" style=\"color:black\">{{#name}}{{name}}{{/name}}</h3>\r\n<p style=\"color:black; text-align: center;\">트레이너</p>\r\n<hr style=\"\r\n    margin-bottom: 50px;\r\n    margin-left: 20px;\r\n    margin-right: 20px;\r\n    margin-top: 20px;\">\r\n\r\n<div id=\"mypage_aside_nav\">\r\n    <ul>\r\n        <li><a href=\"/trainerUpdate/{{session_user.username}}\" style=\"font-size: 16px;\">정보수정</a></li>\r\n        <li><a href=\"/trainer/trainerControl/\" style=\"font-size: 16px;\">PT 시간관리</a></li>\r\n        <li><a href=\"/trainer/ptUserInfo\" style=\"font-size: 16px;\">회원관리</a></li>\r\n    </ul>\r\n</div>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/build/resources/main/templates/content/trainer/trainer_aside.mustache b/JakSim/build/resources/main/templates/content/trainer/trainer_aside.mustache
--- a/JakSim/build/resources/main/templates/content/trainer/trainer_aside.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/build/resources/main/templates/content/trainer/trainer_aside.mustache	(date 1689498141651)
@@ -1,5 +1,5 @@
 <div id="mypage_aside_profileImgContainer">
-    <img src="/image/profile.jpg" alt="profile" id="mypage_aside_profileImg">
+    <img src="/image/TrainerImg.jpg" alt="profile" id="trainerImg" width="200" height="170">
 </div>
 <h3 id="mypage_aside_username" style="color:black">{{#name}}{{name}}{{/name}}</h3>
 <p style="color:black; text-align: center;">트레이너</p>
Index: JakSim/src/main/resources/templates/content/trainer/trainer_aside.mustache
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><div id=\"mypage_aside_profileImgContainer\">\r\n    <img src=\"/image/profile.jpg\" alt=\"profile\" id=\"mypage_aside_profileImg\">\r\n</div>\r\n<h3 id=\"mypage_aside_username\" style=\"color:black\">{{#name}}{{name}}{{/name}}</h3>\r\n<p style=\"color:black; text-align: center;\">트레이너</p>\r\n<hr style=\"\r\n    margin-bottom: 50px;\r\n    margin-left: 20px;\r\n    margin-right: 20px;\r\n    margin-top: 20px;\">\r\n\r\n<div id=\"mypage_aside_nav\">\r\n    <ul>\r\n        <li><a href=\"/trainerUpdate/{{session_user.username}}\" style=\"font-size: 16px;\">정보수정</a></li>\r\n        <li><a href=\"/trainer/trainerControl/\" style=\"font-size: 16px;\">PT 시간관리</a></li>\r\n        <li><a href=\"/trainer/ptUserInfo\" style=\"font-size: 16px;\">회원관리</a></li>\r\n    </ul>\r\n</div>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/resources/templates/content/trainer/trainer_aside.mustache b/JakSim/src/main/resources/templates/content/trainer/trainer_aside.mustache
--- a/JakSim/src/main/resources/templates/content/trainer/trainer_aside.mustache	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/resources/templates/content/trainer/trainer_aside.mustache	(date 1689490366911)
@@ -1,5 +1,5 @@
 <div id="mypage_aside_profileImgContainer">
-    <img src="/image/profile.jpg" alt="profile" id="mypage_aside_profileImg">
+    <img src="/image/TrainerImg.jpg" alt="profile" id="trainerImg" width="200" height="170">
 </div>
 <h3 id="mypage_aside_username" style="color:black">{{#name}}{{name}}{{/name}}</h3>
 <p style="color:black; text-align: center;">트레이너</p>
Index: JakSim/src/main/java/com/twinkle/JakSim/controller/trainer/TrainerController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.twinkle.JakSim.controller.trainer;\r\n\r\nimport com.twinkle.JakSim.model.dto.timetable.TimetableInsertDto;\r\nimport com.twinkle.JakSim.model.dto.trainer.TrainerInsertDto;\r\nimport com.twinkle.JakSim.model.dto.trainer.*;\r\nimport com.twinkle.JakSim.model.service.payment.PaymentService;\r\nimport com.twinkle.JakSim.model.service.review.ReviewService;\r\nimport com.twinkle.JakSim.model.service.trainer.TrainerService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.SQLException;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@Controller\r\npublic class TrainerController {\r\n    @Autowired\r\n    TrainerService trainerService;\r\n    @Autowired\r\n    ReviewService reviewService;\r\n    @Autowired\r\n    PaymentService paymentService;\r\n\r\n    @GetMapping(\"/trainer/trainerRegister\")\r\n    public String trainerSignUp(Model model,  @AuthenticationPrincipal User info) {\r\n\r\n        model.addAttribute(\"head_title\", \"트레이너 등록\");\r\n        model.addAttribute(\"userId\", info);\r\n\r\n        return \"content/trainer/trainerRegister\";\r\n    }\r\n\r\n    @PostMapping(\"/trainerRegister\")\r\n    public String trainerSignUp(TrainerInsertDto trainerDto, @AuthenticationPrincipal User info, Model model,\r\n                                @RequestParam(\"certImage1\") MultipartFile certImage,\r\n                                @RequestParam(\"imagePath1\") MultipartFile[] imagePath) throws IOException {\r\n        model.addAttribute(\"head_title\", \"트레이너 등록\");\r\n\r\n        for (MultipartFile file : imagePath) {\r\n            System.out.println(\"파일 이름: \" + file.getOriginalFilename());\r\n            System.out.println(\"파일 크기: \" + file.getSize());\r\n            // 파일 저장 등의 로직 수행\r\n        }\r\n\r\n        System.out.println(\"cert 파일 이름: \" + certImage.getOriginalFilename());\r\n        System.out.println(\"cert 파일 크기: \" + certImage.getSize());\r\n        trainerService.TrainerSignUp(trainerDto, info.getUsername(), certImage, imagePath);\r\n\r\n        return \"redirect:/\";\r\n    }\r\n\r\n    @GetMapping(\"/trainerUpdate/{userId}\")\r\n    public String trainerUpdate(Model model, @PathVariable(\"userId\") String userId, @AuthenticationPrincipal User info) {\r\n        model.addAttribute(\"head_title\", \"트레이너 정보수정\");\r\n        model.addAttribute(\"userId\", info);\r\n        model.addAttribute(\"trainer\", trainerService.searchTrainer(userId));\r\n        model.addAttribute(\"product\", trainerService.getProduct(userId));\r\n        model.addAttribute(\"cert\", trainerService.getCert(userId));\r\n        model.addAttribute(\"career\", trainerService.getCareer(userId));\r\n        model.addAttribute(\"imageList\", trainerService.getTrainerImage(userId));\r\n        model.addAttribute(\"name\", trainerService.searchTrainerName(userId));\r\n\r\n        return \"content/trainer/trainerPage\";\r\n    }\r\n\r\n    @PostMapping(\"/trainerUpdate\")\r\n    public String trainerUpdate(TrainerInsertDto trainerDto, @AuthenticationPrincipal User info, Model model,\r\n                                @RequestParam(\"certImage1\") MultipartFile certImage,\r\n                                @RequestParam(\"imagePath1\") MultipartFile[] imagePath) throws IOException {\r\n        System.out.println(\"cert Multipart : \" + certImage.getOriginalFilename());\r\n        System.out.println(\"cert Multipart : \" + certImage.getSize());\r\n\r\n        for(MultipartFile file : imagePath) {\r\n            System.out.println(\"image Multipart : \" + file.getOriginalFilename());\r\n            System.out.println(\"image Multipart : \" + file.getSize());\r\n            System.out.println(\"image Multipart : \" + file.isEmpty());\r\n            System.out.println(\"image Multipart : \" + file.equals(\"\"));\r\n        }\r\n\r\n        System.out.println(\"redirect update : \" +trainerDto.toString());\r\n        trainerService.updateTrainer(trainerDto, info.getUsername(), certImage, imagePath);\r\n\r\n        return \"redirect:/trainerUpdate/\" + info.getUsername();\r\n    }\r\n\r\n    @PostMapping(\"/trainerDelete\")\r\n    public String trainerDelete(TrainerInsertDto trainerDto, @AuthenticationPrincipal User info) {\r\n        //System.out.println(\"컨트롤러 del : \"+ trainerDto.toString());\r\n        trainerService.deleteTrainer(trainerDto ,info.getUsername());\r\n\r\n        return \"redirect:/\";\r\n    }\r\n\r\n    @GetMapping(\"/trainer/{userId}\")\r\n    public String viewTrainer(@PathVariable(\"userId\") String userId, @AuthenticationPrincipal User info, Model model) throws SQLException {\r\n        //String userId = info.getUsername();\r\n        //model.addAttribute(\"user\", userId);\r\n        //@PathVariable(\"trainerId\") int trainerId,\r\n\r\n        model.addAttribute(\"head_title\", \"트레이너 상세페이지\");\r\n        model.addAttribute(\"session\", info);\r\n        model.addAttribute(\"trainer\", trainerService.searchTrainer(userId));\r\n        model.addAttribute(\"review\", reviewService.showReview(userId));\r\n        model.addAttribute(\"product\", trainerService.getProduct(userId));\r\n        model.addAttribute(\"cert\", trainerService.getCert(userId));\r\n        model.addAttribute(\"career\", trainerService.getCareer(userId));\r\n        model.addAttribute(\"imageList\", trainerService.getTrainerImage(userId));\r\n\r\n\r\n        return \"content/trainer/trainerDetailPage\";\r\n    }\r\n\r\n\r\n\r\n\r\n    @GetMapping(\"/trainer/trainerSearch\")\r\n    public String viewTrainerSearch(Model model, @AuthenticationPrincipal User info){\r\n        model.addAttribute(\"head_title\", \"트레이너 찾기\");\r\n        model.addAttribute(\"userId\", info);\r\n        model.addAttribute(\"trainers\", trainerService.searchAllTrainer());\r\n\r\n        return \"content/trainer/trainerSearch\";\r\n    }\r\n\r\n    @GetMapping(\"/trainer/trainerControl\")\r\n    public String trainerControl(Model model, @AuthenticationPrincipal User info){\r\n        model.addAttribute(\"head_title\", \"트레이너 관리페이지\");\r\n        model.addAttribute(\"userId\", info);\r\n        model.addAttribute(\"timetable\", trainerService.getTimetable(info.getUsername()));\r\n        model.addAttribute(\"name\", trainerService.searchTrainerName(info.getUsername()));\r\n\r\n        return \"content/trainer/trainerPage2\";\r\n    }\r\n    @PostMapping(\"/trainer/ptTimetableRegister\")\r\n    public String timetableRegister(Model model, @AuthenticationPrincipal User info, TimetableInsertDto timetable){\r\n        model.addAttribute(\"userId\", info);\r\n        trainerService.registerTimetable(timetable, info.getUsername());\r\n\r\n        return \"redirect:/trainer/trainerControl\";\r\n    }\r\n    @PostMapping(\"/trainer/ptTimetableUpdate\")\r\n    public String timetableDelete(@RequestParam(\"tIdx\") int tIdx){\r\n        trainerService.deleteTimetable(tIdx);\r\n\r\n        return \"redirect:/trainer/trainerControl\";\r\n    }\r\n\r\n    @GetMapping(\"/trainer/ptUserInfo\")\r\n    public String ptUserInfo(Model model, @AuthenticationPrincipal User info){\r\n        model.addAttribute(\"head_title\", \"트레이너 관리페이지\");\r\n        model.addAttribute(\"userId\", info);\r\n        model.addAttribute(\"ptUser\", trainerService.getMyPtUserInfo(info.getUsername()));\r\n        model.addAttribute(\"name\", trainerService.searchTrainerName(info.getUsername()));\r\n\r\n        return \"content/trainer/trainerPage3\";\r\n    }\r\n\r\n    @GetMapping(\"/modalTest\")\r\n    public String modalTest(Model model) {\r\n        model.addAttribute(\"head_title\", \"주소 검색\");\r\n        return \"content/trainer/addressTest\";\r\n    }\r\n\r\n    @GetMapping(\"/address-search\")\r\n    public String addressTest() {\r\n        return \"content/trainer/addressModal\";\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/src/main/java/com/twinkle/JakSim/controller/trainer/TrainerController.java b/JakSim/src/main/java/com/twinkle/JakSim/controller/trainer/TrainerController.java
--- a/JakSim/src/main/java/com/twinkle/JakSim/controller/trainer/TrainerController.java	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/src/main/java/com/twinkle/JakSim/controller/trainer/TrainerController.java	(date 1689496404521)
@@ -3,6 +3,7 @@
 import com.twinkle.JakSim.model.dto.timetable.TimetableInsertDto;
 import com.twinkle.JakSim.model.dto.trainer.TrainerInsertDto;
 import com.twinkle.JakSim.model.dto.trainer.*;
+import com.twinkle.JakSim.model.service.account.FileService;
 import com.twinkle.JakSim.model.service.payment.PaymentService;
 import com.twinkle.JakSim.model.service.review.ReviewService;
 import com.twinkle.JakSim.model.service.trainer.TrainerService;
@@ -27,11 +28,15 @@
     @Autowired
     ReviewService reviewService;
     @Autowired
-    PaymentService paymentService;
-
+    FileService fileService;
     @GetMapping("/trainer/trainerRegister")
     public String trainerSignUp(Model model,  @AuthenticationPrincipal User info) {
 
+        if(info != null) {
+            model.addAttribute("profile_image", fileService.getSingeProfile(info.getUsername()));
+            model.addAttribute("isTrainer", info.getAuthorities().toString().equals("[ROLE_TRAINER]"));
+        }
+
         model.addAttribute("head_title", "트레이너 등록");
         model.addAttribute("userId", info);
 
@@ -57,8 +62,14 @@
         return "redirect:/";
     }
 
-    @GetMapping("/trainerUpdate/{userId}")
+    @GetMapping("/trainer/trainerUpdate/{userId}")
     public String trainerUpdate(Model model, @PathVariable("userId") String userId, @AuthenticationPrincipal User info) {
+
+        if(info != null) {
+            model.addAttribute("profile_image", fileService.getSingeProfile(info.getUsername()));
+            model.addAttribute("isTrainer", info.getAuthorities().toString().equals("[ROLE_TRAINER]"));
+        }
+
         model.addAttribute("head_title", "트레이너 정보수정");
         model.addAttribute("userId", info);
         model.addAttribute("trainer", trainerService.searchTrainer(userId));
@@ -101,9 +112,10 @@
 
     @GetMapping("/trainer/{userId}")
     public String viewTrainer(@PathVariable("userId") String userId, @AuthenticationPrincipal User info, Model model) throws SQLException {
-        //String userId = info.getUsername();
-        //model.addAttribute("user", userId);
-        //@PathVariable("trainerId") int trainerId,
+        if(info != null) {
+            model.addAttribute("profile_image", fileService.getSingeProfile(info.getUsername()));
+            model.addAttribute("isTrainer", info.getAuthorities().toString().equals("[ROLE_TRAINER]"));
+        }
 
         model.addAttribute("head_title", "트레이너 상세페이지");
         model.addAttribute("session", info);
@@ -119,10 +131,12 @@
     }
 
 
-
-
     @GetMapping("/trainer/trainerSearch")
     public String viewTrainerSearch(Model model, @AuthenticationPrincipal User info){
+        if(info != null) {
+            model.addAttribute("profile_image", fileService.getSingeProfile(info.getUsername()));
+            model.addAttribute("isTrainer", info.getAuthorities().toString().equals("[ROLE_TRAINER]"));
+        }
         model.addAttribute("head_title", "트레이너 찾기");
         model.addAttribute("userId", info);
         model.addAttribute("trainers", trainerService.searchAllTrainer());
@@ -132,6 +146,12 @@
 
     @GetMapping("/trainer/trainerControl")
     public String trainerControl(Model model, @AuthenticationPrincipal User info){
+
+        if(info != null) {
+            model.addAttribute("profile_image", fileService.getSingeProfile(info.getUsername()));
+            model.addAttribute("isTrainer", info.getAuthorities().toString().equals("[ROLE_TRAINER]"));
+        }
+
         model.addAttribute("head_title", "트레이너 관리페이지");
         model.addAttribute("userId", info);
         model.addAttribute("timetable", trainerService.getTimetable(info.getUsername()));
@@ -155,6 +175,12 @@
 
     @GetMapping("/trainer/ptUserInfo")
     public String ptUserInfo(Model model, @AuthenticationPrincipal User info){
+
+        if(info != null) {
+            model.addAttribute("profile_image", fileService.getSingeProfile(info.getUsername()));
+            model.addAttribute("isTrainer", info.getAuthorities().toString().equals("[ROLE_TRAINER]"));
+        }
+
         model.addAttribute("head_title", "트레이너 관리페이지");
         model.addAttribute("userId", info);
         model.addAttribute("ptUser", trainerService.getMyPtUserInfo(info.getUsername()));
Index: JakSim/build/resources/main/static/css/scheduleList/trainerDetailsStyle.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@500&display=swap');\r\n\r\n#trainer2 {\r\n    float: right;\r\n    width: 450px;\r\n    height: 230px;\r\n}\r\n\r\n#trainer-details {\r\n    height: 228px;\r\n    padding: 20px;\r\n\r\n    border-radius: 20px;\r\n    border: 2px solid rgba(196, 196, 196, 1);\r\n\r\n}\r\n\r\n.trainer-info {\r\n    width: 130px;\r\n    height: 130px;\r\n    border-radius: 50%;\r\n}\r\n\r\n#trainerDetail {\r\n    width: 270px;\r\n    display: inline-block;\r\n    padding-left: 30px;\r\n}\r\n\r\n#trainerName {\r\n    font-size: 20px;\r\n    margin-bottom: 5px;\r\n\r\n    color: #747474;\r\n    text-decoration: none;\r\n}\r\n\r\n#trainerName:hover {\r\n    color: #C8B0FC;\r\n}\r\n\r\n#insta {\r\n    width: 50px;\r\n    height: 50px;\r\n}\r\n\r\n#insta>img {\r\n    width: 25px;\r\n    height: 25px;\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/JakSim/build/resources/main/static/css/scheduleList/trainerDetailsStyle.css b/JakSim/build/resources/main/static/css/scheduleList/trainerDetailsStyle.css
--- a/JakSim/build/resources/main/static/css/scheduleList/trainerDetailsStyle.css	(revision 9144b4b2971d71d7ae03fb6312c6e828cfbfbcd9)
+++ b/JakSim/build/resources/main/static/css/scheduleList/trainerDetailsStyle.css	(date 1689498141201)
@@ -15,7 +15,7 @@
 
 }
 
-.trainer-info {
+#trainer-info {
     width: 130px;
     height: 130px;
     border-radius: 50%;
